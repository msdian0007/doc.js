import{r as p,j as e,a as $}from"./react-91784986.js";import{c as V}from"./react-dom-aae22b8e.js";import{L as S,u as M,B as H}from"./react-router-dom-f52f5169.js";import{d as k,a as F,b as v,c as U,e as G,f as Q,g as Z,h as K,i as Y,B as J,M as W,j as X,k as ee,l as se,m as D,n as _}from"./@mui-90a05fb3.js";import{u as g,a as j,P as te}from"./react-redux-b71fc7c8.js";import{c as re,a as le}from"./@reduxjs-ae2d0f76.js";import{e as z}from"./react-datepicker-2c56f20d.js";import{r as I}from"./@material-tailwind-9ebd4e27.js";import{l as ie}from"./react-to-print-13f12856.js";import{k as ae,Q as ne}from"./react-toastify-3699e7c5.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./react-is-a192e302.js";import{v as C}from"./uuid-4a60fe23.js";import{d as ce,e as w}from"./react-router-aa8a727c.js";import{a as oe,s as de}from"./@redux-saga-3c4b5a7a.js";import{a as me}from"./redux-8ed9033a.js";import"./@babel-0120766e.js";import"./scheduler-765c72db.js";import"./@remix-run-8989dd9f.js";import"./clsx-1229b3e0.js";import"./react-transition-group-fd1d87dc.js";import"./@emotion-16c2911d.js";import"./stylis-79144faa.js";import"./use-sync-external-store-e196b73e.js";import"./immer-41fd5235.js";import"./redux-thunk-ef899f4c.js";import"./classnames-b9799810.js";import"./date-fns-0f1edf46.js";import"./react-onclickoutside-ab8a3f58.js";import"./react-popper-2760c7c2.js";import"./react-fast-compare-7ec26f5d.js";import"./@popperjs-f3391c26.js";import"./warning-5192314d.js";import"./tailwind-merge-873fa99f.js";import"./prop-types-387d7a00.js";import"./deepmerge-89e33937.js";import"./framer-motion-65b48a9d.js";import"./tslib-73da9e3b.js";import"./hey-listen-4c7ba56f.js";import"./style-value-types-86c13b32.js";import"./popmotion-bfd9c73f.js";import"./framesync-409e5dda.js";import"./@motionone-f473db90.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-83152034.js";import"./aria-hidden-606e0ff2.js";import"./tabbable-6ab97b54.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();const R={type:"",basicDetails:{},senderDetails:{},receiverDetails:{},tableItems:[],paymentDetails:{},tAndCList:[]},O=re({name:"doc",initialState:R,reducers:{typeOfDocument:(r,{payload:s})=>{r.type=s},setBasicDetails:(r,{payload:s})=>{const{name:t,value:i}=s;r.basicDetails={...r.basicDetails,[t]:i}},setSenderDetails:(r,{payload:s})=>{r.senderDetails=s},setReceiverDetails:(r,{payload:s})=>{r.receiverDetails=s},addTableItems:(r,{payload:s})=>{r.tableItems.push(s)},updateTableItems:(r,{payload:s})=>{r.tableItems=s},deleteTableItems:(r,{payload:s})=>{r.tableItems=s},paymentDetailsReq:(r,{payload:s})=>{r.paymentDetails=s},addConditionsReq:(r,{payload:s})=>{r.tAndCList.push(s)},updateConditionsReq:(r,{payload:s})=>{r.tAndCList=s},deleteConditionsReq:(r,{payload:s})=>{r.tAndCList=s},clearFormReq:r=>R}}),{typeOfDocument:ue,setBasicDetails:f,setSenderDetails:q,setReceiverDetails:A,addTableItems:xe,updateTableItems:pe,deleteTableItems:he,paymentDetailsReq:B,addConditionsReq:ge,updateConditionsReq:Ms,deleteConditionsReq:je,clearFormReq:fe}=O.actions,be=O.reducer,ve={cName:"",address:"",locality:"",city:"",state:"",zip_code:"",country:""},ye=({setIsFormOpen:r,type:s,formDetails:t})=>{const[i,a]=p.useState(ve),l=g(),o=d=>{const{name:m,value:c}=d.target;a(n=>({...n,[m]:c}))},u=d=>{d.preventDefault(),l(s==="sender"?q(i):A(i)),r(!1)};return p.useEffect(()=>{t&&a(t)},[t]),e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{id:"rdClose",className:"fixed top-0 left-0 z-10 w-full h-full bg_main ",children:e.jsx("form",{className:"flex items-center h-full",id:"moduleDetailsEditForm",action:"",onSubmit:u,children:e.jsxs("div",{className:"relative w-3/4 p-4 mx-auto rounded-lg bg-white/70 sm:w-3/5 md:w-1/2 lg:w-1/3",children:[e.jsx("div",{className:"flex justify-center mx-auto",children:e.jsx("input",{className:"w-full p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Name/Company Name",name:"cName",value:i.cName,onChange:o,required:!0})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mx-auto",children:e.jsx("input",{className:"col-span-2 p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Address",name:"address",value:i.address,onChange:o,required:!0})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mx-auto",children:e.jsx("input",{className:"col-span-2 p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Locality",name:"locality",value:i.locality,onChange:o})}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mx-auto",children:[e.jsx("input",{pattern:"[A-Za-z]+",className:"p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"City",name:"city",value:i.city,onChange:o}),e.jsx("input",{pattern:"[A-Za-z]+",className:"p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"State",name:"state",value:i.state,onChange:o,required:!0}),e.jsx("input",{pattern:"[0-9]+",className:"p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Post Code",name:"zip_code",value:i.zip_code,onChange:o,required:!0}),e.jsx("input",{pattern:"[A-Za-z]+",className:"p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Country/Region",name:"country",value:i.country,onChange:o,required:!0})]}),e.jsx("div",{className:"flex justify-end mx-auto",children:e.jsx("button",{className:"px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 ",children:"Add"})}),e.jsxs("div",{className:"absolute top-0 -right-8",children:[e.jsx("span",{className:"pl-1 text-2xl text-white cursor-pointer close hover:text-red-800",onClick:()=>r(!1),children:"×"}),e.jsx("br",{})]})]})})})})})},T=({initialButton:r,type:s,data:t})=>{var c;const[i,a]=p.useState(!1),l=g(),o=()=>{if(s==="sender")return l(q({}));l(A({}))};let u,d,m;if((c=Object.values(t))!=null&&c.length?(u=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:[e.jsx(F,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>a(!0)}),e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:o})]})}),m=e.jsx(e.Fragment,{children:e.jsx("div",{className:"p-1",children:e.jsxs("div",{className:"inline break-words",children:[e.jsx("b",{children:t==null?void 0:t.cName}),e.jsx("br",{}),e.jsx("span",{children:t==null?void 0:t.address}),e.jsx("br",{}),e.jsxs("span",{children:[t==null?void 0:t.locality,","]}),e.jsx("br",{}),e.jsxs("span",{children:[t==null?void 0:t.city,", "]}),e.jsxs("span",{children:[t==null?void 0:t.state,", "]}),e.jsx("span",{children:t==null?void 0:t.zip_code}),e.jsx("br",{})]})})})):(u=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(k,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>{a(!0)}})})}),m=r),i){let n={setIsFormOpen:a,type:s,formDetails:t};d=e.jsx(ye,{...n})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative group/items ",children:[m,u,d]})})},Ne=()=>{const[r,s]=p.useState(0),{tableItems:t,type:i}=j(c=>c.document);let a=0,l=0,o=0,u=[],d=0,m=0;return u=t,u.length>0&&(u.map(c=>{a+=c.total}),d=a*r/100,m=a-d,l=m*18/100,o=m+l),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-end mb-[1.6rem]",children:e.jsxs("div",{className:"w-3/5 ",children:[e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full px-2 py-1 border-b-2 bg-primary-400 ",children:"Total"}),e.jsx("h2",{className:"flex justify-end w-1/3 px-1 py-1 border-t-2 border-b-2",children:a.toLocaleString()})]}),e.jsxs("div",{className:`relative flex bg-slate-100 ${i!=="quotation"?"hidden":null}`,children:[e.jsx("strong",{className:"w-full px-2 py-1 border-b-2 bg-primary-400",children:"Discount"}),e.jsxs("div",{className:"absolute left-24",children:[e.jsx("input",{className:"px-2 py-1 outline-none w-14",type:"number",placeholder:"",name:"disc",value:r,onChange:c=>c.target.value>=0&&c.target.value<=100?s(c.target.value):null}),e.jsx("span",{className:"absolute items-center my-1 right-1",children:"%"})]}),e.jsx("h2",{className:"flex justify-end w-1/3 px-1 py-1 border-b-2",children:d.toLocaleString(void 0,{maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full px-2 py-1 border-b-2 bg-primary-400",children:"GST-18%"}),e.jsx("h2",{className:"flex justify-end w-1/3 px-1 py-1 border-b-2",children:l.toLocaleString(void 0,{maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full px-2 py-1 bg-primary-400 ",children:"Grand Total(Include Tax)"}),e.jsx("strong",{className:"flex justify-end w-1/3 px-1 py-1 bg-primary-200",children:"₹ "+o.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})})})},we=()=>e.jsxs("div",{className:" p-4 border-2 border-primary-100 mx-auto cursor-pointer",children:[e.jsx("span",{children:"To,"}),e.jsxs("div",{className:"flex gap-4 ml-4 items-center",children:[e.jsx("div",{className:"",children:e.jsx(U,{sx:{fontSize:30}})}),e.jsx("span",{children:"Sender Details"})]})]}),Ce=()=>e.jsxs("div",{className:" p-4 border-2 border-primary-100 mx-auto cursor-pointer",children:[e.jsx("span",{children:"To,"}),e.jsxs("div",{className:"flex gap-4 ml-4 items-center",children:[e.jsx("div",{className:"",children:e.jsx(G,{sx:{fontSize:30}})}),e.jsx("span",{children:"Receiver Details"})]})]}),Se=()=>{const r=g(),{date:s,due_date:t}=j(i=>i.document.basicDetails);return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative h-full group/items",children:e.jsxs("div",{className:"grid content-end grid-cols-2 text-end",children:[e.jsx("strong",{className:"col-span-2",children:"Issue date:"}),e.jsx("div",{className:"col-span-1"}),e.jsx("div",{className:"relative col-span-1",children:e.jsx("div",{className:` border-primary-100 rounded-lg ${s?"border-0":"border-2"}`,children:e.jsx(z,{selected:s,onChange:i=>r(f({name:"date",value:i})),placeholderText:"mm-dd-yyyy",todayButton:"Today",className:"bg-transparent text-right w-3/4 text-[0.875rem]"})})}),e.jsx("strong",{className:"col-span-2",children:"Due date:"}),e.jsx("div",{className:"col-span-1"}),e.jsx("div",{className:"relative col-span-1",children:e.jsx("div",{className:` border-primary-100 rounded-lg ${t?"border-0":"border-2"}`,children:e.jsx(z,{selected:t,onChange:i=>r(f({name:"due_date",value:i})),placeholderText:"mm-dd-yyyy",todayButton:"Today",className:"bg-transparent text-right w-3/4 text-[0.875rem]"})})})]})})})},ke=()=>{const{senderDetails:r,receiverDetails:s}=j(t=>t.document);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-[1.6rem]",children:[e.jsx("div",{className:"col-span-4",children:e.jsx(T,{type:"sender",initialButton:e.jsx(we,{}),data:r})}),e.jsx("div",{className:"col-span-4",children:e.jsx(T,{type:"receiver",initialButton:e.jsx(Ce,{}),data:s})}),e.jsx("div",{className:"col-span-4",children:e.jsx(Se,{})})]})})},Fe=({setIsFormOpen:r,formDetails:s})=>{const t={account_number:"",bank_name:"",ifsc:"",gstin_no:""},[i,a]=p.useState(t),l=g(),o=d=>{const{name:m,value:c}=d.target;a(n=>({...n,[m]:c}))},u=d=>{d.preventDefault(),l(B(i)),r(!1)};return p.useEffect(()=>{s&&a(s)},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{id:"rdClose",className:"fixed top-0 left-0 z-10 w-full h-full bg_main ",children:e.jsx("form",{className:"flex items-center h-full",id:"moduleDetailsEditForm",action:"",onSubmit:u,children:e.jsxs("div",{className:"relative w-3/4 p-4 mx-auto rounded-lg bg-white/70 sm:w-3/5 md:w-1/2 lg:w-1/3",children:[e.jsx("div",{className:"flex justify-center mx-auto",children:e.jsx("input",{className:"w-full p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Account Number",name:"account_number",value:i.account_number,onChange:o,required:!0})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mx-auto",children:e.jsx("input",{className:"col-span-2 p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"Bank Name",name:"bank_name",value:i.bank_name,onChange:o,required:!0})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mx-auto",children:e.jsx("input",{className:"col-span-2 p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"IFSC",name:"ifsc",value:i.ifsc,onChange:o})}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mx-auto",children:e.jsx("input",{className:"col-span-2 p-2 my-4 bg-gray-200 rounded-lg",type:"text",placeholder:"GSTIN No.",name:"gstin_no",value:i.gstin_no,onChange:o})}),e.jsx("div",{className:"flex justify-end mx-auto",children:e.jsx("button",{className:"px-4 py-2 font-bold text-white bg-blue-500 rounded-full hover:bg-blue-700 ",children:"Add"})}),e.jsxs("div",{className:"absolute top-0 -right-8",children:[e.jsx("span",{className:"pl-1 text-2xl text-white cursor-pointer close hover:text-red-800",onClick:()=>r(!1),children:"×"}),e.jsx("br",{})]})]})})})})})},De=()=>{const[r,s]=p.useState(!1),t=g(),i=p.useRef(),{basicDetails:a,paymentDetails:l}=j(c=>c.document);let o,u,d;if(l!=null&&l.account_number&&(l!=null&&l.bank_name)?(o=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:[e.jsx(F,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>{s(!0)}}),e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>t(B({}))})]})}),u=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-1",children:[e.jsx("h2",{className:"",children:"Bank & Payment Details"}),e.jsx("table",{className:"3/4",children:e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Account Number:"}),e.jsx("td",{children:l==null?void 0:l.account_number})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Bank Name:"}),e.jsx("td",{children:l==null?void 0:l.bank_name})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"IFSC:"}),e.jsx("td",{children:l==null?void 0:l.ifsc})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"GSTIN No:"}),e.jsx("td",{children:l==null?void 0:l.gstin_no})]})]})})]})})):(o=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-4 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(k,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>{s(!0)}})})}),u=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 p-2 justify-center items-center border-[0.2rem] border-primary-100 h-auto w-auto min-w-[150px] ",children:[e.jsx(Q,{className:"col-span-1 mx-auto",sx:{fontSize:30}}),e.jsx("span",{className:"col-span-1 mx-auto",children:"Payment Details"})]})})),r){let c={setIsFormOpen:s,formDetails:l};d=e.jsx(Fe,{...c})}const m=c=>{let{name:n,files:x}=c.target;const h=URL.createObjectURL(x[0]);t(f({name:n,value:h}))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex items-center justify-between mb-[1.6rem]",children:[e.jsxs("div",{className:"relative group/items",children:[u,o]}),e.jsxs("div",{className:"mx-8",children:[e.jsxs("div",{className:`relative group/items w-full h-auto flex justify-center my-1 ${a!=null&&a.digital_sign?"inline":"hidden"}`,children:[e.jsx("img",{className:"max-w-[100px] max-h-[60px] ",src:a==null?void 0:a.digital_sign,alt:"sign"}),e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>t(f({name:"digital_sign",value:""}))})})]}),e.jsx(I.Tooltip,{content:"Add Digital Sign",children:e.jsx("b",{className:"py-1 mx-auto text-gray-500 border-t-2 cursor-pointer w-fit border-t-slate-400",onClick:()=>i.current.click(),children:"Authorized Signatory"})}),e.jsx("input",{name:"digital_sign",type:"file",accept:"image/*",value:"",readOnly:!0,hidden:!0,ref:i,onChange:m})]}),d]})})},_e=({setIsFormOpen:r,itemId:s,tableItems:t})=>{const[i,a]=p.useState({id:C(),description:"",hsn_no:"",qty:"",unit_price:"",total:""}),l=g();var o=[];o=t;const u=x=>{const{name:h,value:b}=x.target;a(y=>({...y,[h]:b}))},d=x=>{if(x.preventDefault(),s){const h=o.map(b=>b.id===i.id?i:b);l(pe(h))}else l(xe(i));r(!1)},m=()=>{o.filter(x=>(x==null?void 0:x.id)===s?a(x):null)};let{unit_price:c,qty:n}=i;return p.useEffect(()=>{a(x=>({...x,total:c*n}))},[c,n]),p.useEffect(()=>{m()},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{id:"rdClose",className:"bg_main fixed top-0 left-0 w-full h-full z-10 ",children:e.jsx("form",{className:"flex items-center h-full",onSubmit:d,children:e.jsxs("div",{className:"bg-white/70 w-3/4 sm:w-3/5 md:w-1/2 lg:w-1/3 mx-auto rounded-lg p-4 relative",children:[e.jsx("div",{className:"mx-auto flex justify-center",children:e.jsx("input",{className:"bg-gray-200 w-full p-2 my-4 rounded-lg",type:"text",placeholder:"Description",name:"description",value:i.description,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"HSN-No.",name:"hsn_no",min:"1",value:i.hsn_no,onChange:u,required:!0,list:"hsnNum"})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"QTY",name:"qty",min:"1",value:i.qty,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"Unit Price",name:"unit_price",min:"1",value:i.unit_price,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{pattern:"[0-9]+",className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"Total",name:"total",value:i.total,readOnly:!0})}),e.jsx("div",{className:"mx-auto flex justify-end",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ",children:"Add"})}),e.jsx("div",{className:"absolute top-0 -right-6 cursor-pointer",onClick:()=>r(!1),children:e.jsx("span",{className:"close text-2xl text-white hover:text-red-800",children:"×"})})]})})})})},ze=()=>{const[r,s]=p.useState(!1),[t,i]=p.useState(null),{tableItems:a}=j(n=>n.document),l=g();let o,u,d,m=[];m=a;const c=n=>{const x=m.filter(h=>h.id!==n);l(he(x))};if((m==null?void 0:m.length)<1?o=e.jsx(e.Fragment,{children:e.jsx("div",{className:"bottom-0 flex items-center justify-center w-full h-full py-2 rounded-md cursor-pointer bg-primary-100 hover:bg-primary-200",onClick:()=>{s(!0),i(null)},children:e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 rounded-full hover:scale-105 bg-primary-400",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new item"})]})})}):(o=e.jsx(e.Fragment,{children:m.map(({description:n,hsn_no:x,qty:h,unit_price:b,total:y,id:N})=>e.jsxs("div",{className:"relative group/items",children:[e.jsxs("div",{className:"flex items-center border-b-2 ",children:[e.jsx("h2",{className:"w-2/5 px-2 py-1 break-words",children:n}),e.jsxs("div",{className:"flex w-3/5",children:[e.jsx("h2",{className:"flex justify-center w-1/3 ",children:x}),e.jsx("h2",{className:"flex justify-center w-1/5",children:h}),e.jsx("h2",{className:"flex justify-end w-1/3",children:b}),e.jsx("h2",{className:"flex justify-end w-1/3 pr-2",children:y})]})]}),e.jsxs("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:[e.jsx(F,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110 hover:text-yellow-500",sx:{fontSize:20},onClick:()=>{s(!0),i(N)}}),e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110 hover:text-red-500",sx:{fontSize:20},onClick:()=>c(N)})]})]},N))}),u=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-4 rounded-md cursor-pointer bg-black/60 group-hover/items:visible",onClick:()=>{s(!0),i(null)},children:e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 rounded-full hover:scale-105 bg-primary-400",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new item"})]})})})),r){let n={setIsFormOpen:s,itemId:t,tableItems:a};d=e.jsx(_e,{...n})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-[1.6rem]",children:[e.jsxs("div",{className:"relative group/items",children:[e.jsxs("div",{className:"flex items-center h-10 bg-primary-400 ",children:[e.jsx("h2",{className:"w-2/5 px-2 ",children:e.jsx("strong",{children:"Description"})}),e.jsxs("div",{className:"flex w-3/5",children:[e.jsx("h2",{className:"flex justify-center w-1/3 py-1",children:e.jsx("strong",{children:"HSN Code"})}),e.jsx("h2",{className:"flex justify-center w-1/5 py-1",children:e.jsx("strong",{children:"Qty"})}),e.jsx("h2",{className:"flex justify-end w-1/3 py-1",children:e.jsx("strong",{children:"Unit Price"})}),e.jsx("h2",{className:"flex justify-end w-1/3 py-1 pr-2",children:e.jsx("strong",{children:"Amount"})})]})]}),u]}),o,d]})})},Re=()=>{const[r,s]=p.useState(!1),{tAndCList:t}=j(n=>n.document),i=g(),[a,l]=p.useState({id:C(),tc:""}),o=n=>{n.preventDefault(),i(ge(a)),l({id:C(),tc:""})},u=n=>{let x=t.filter(h=>h.id!==n);i(je(x))};let d,m,c;return(t==null?void 0:t.length)>0||r?(d=e.jsxs("div",{className:"relative group/items mb-[0.5rem]",children:[e.jsx("strong",{className:"",children:"Terms & Conditions"}),e.jsx("div",{className:"absolute left-[150px] top-0",children:e.jsxs("div",{className:"flex items-center justify-center invisible gap-2 px-4 rounded-full cursor-pointer group-hover/items:visible hover:scale-105 bg-primary-400",onClick:()=>s(!0),children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new t&c"})]})})]}),m=e.jsx("ol",{className:"text-xs list-disc",children:t==null?void 0:t.map(({id:n,tc:x})=>e.jsxs("div",{className:"relative group/items",children:[e.jsx("li",{className:"ml-5 break-words",children:x},n),e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110 hover:text-red-500",sx:{fontSize:20},onClick:()=>u(n)})})]},n))})):(r||(d=e.jsxs("div",{className:"relative group/items h-auto w-auto max-w-[150px] mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 p-2 justify-center items-center border-[0.2rem] border-primary-100  ",children:[e.jsx(Y,{className:"col-span-1 mx-auto",sx:{fontSize:30}}),e.jsx("span",{className:"col-span-1 mx-auto",children:"T&C"})]}),e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-4 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(k,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>{s(!0)}})})]})),m=e.jsx(e.Fragment,{})),r&&(c=e.jsx("div",{className:"mb-8 ",children:e.jsx("form",{onSubmit:o,children:e.jsxs("div",{className:"relative w-fit",children:[e.jsx("textarea",{className:"border-[0.2rem] border-primary-100 p-1 focus:border-primary-400 outline-none",name:"tc",id:"T&C",cols:"40",rows:"2",value:a.tc,required:!0,onChange:n=>l({...a,[n.target.name]:n.target.value})}),e.jsxs("div",{className:"absolute right-0 z-10 flex items-center justify-center gap-2 -bottom-5 ",children:[e.jsx("button",{type:"submit",children:e.jsx(Z,{className:"w-5 text-white rounded-md cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:20}})}),e.jsx(K,{className:"text-white rounded-md cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:20},onClick:()=>s(!1)})]})]})})}),(t==null?void 0:t.length)>0&&(d=e.jsxs("div",{className:"relative group/items",children:[e.jsx("strong",{className:"",children:"Terms & Conditions"}),e.jsx("div",{className:"absolute left-[150px] top-0",children:e.jsxs("div",{className:"flex items-center justify-center invisible gap-2 px-4 rounded-full cursor-pointer group-hover/items:visible hover:scale-105 bg-primary-400",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new t&c"})]})})]}))),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-[1.6rem]",children:[e.jsx("div",{children:d}),e.jsx("div",{children:m}),c]})})},Te=[{title:"invoice",url:"/document"},{title:"quotation",url:"/document"},{title:"other",url:"/document"}],Ie=48,Oe=()=>{const{basicDetails:r,type:s}=j(n=>n.document),[t,i]=p.useState(null),a=!!t,l=p.useRef(),o=g(),u=n=>{i(n.currentTarget)},d=()=>{i(null)},m=n=>{const{files:x}=n.target;if(x){const h=URL.createObjectURL(x[0]);o(f({name:"logo",value:h}))}};let c;return r!=null&&r.logo?c=e.jsxs("div",{className:"relative group/items cursor-pointer inline-block max-w-[180px] max-h-[100px] w-auto h-auto overflow-hidden",children:[e.jsx("img",{className:"",src:r==null?void 0:r.logo,alt:"logo",onClick:()=>l.current.click()}),e.jsx("div",{className:"absolute bottom-0 z-10 flex items-center justify-center invisible w-full h-full gap-2 rounded-md bg-black/60 group-hover/items:visible",children:e.jsx(v,{className:"p-1 text-white rounded-full cursor-pointer bg-primary-500 hover:scale-110",sx:{fontSize:25},onClick:()=>o(f({name:"logo",value:""}))})})]}):c=e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-[100px] h-[100px] rounded-full flex justify-center items-center bg-blue-gray-500",onClick:()=>l.current.click(),children:e.jsx("div",{className:"text-gray-300",children:"Upload logo"})})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative grid grid-cols-3 bg-slate-300 items-center my-[1.6rem]",children:[e.jsxs("div",{className:"items-center col-span-1 mx-auto",children:[e.jsx("div",{className:"cursor-pointer inline-block max-w-[180px] max-h-[100px] w-auto h-auto overflow-hidden",children:c}),e.jsx("input",{type:"file",id:"file",value:"",onChange:m,accept:"image/png, image/jpg, image/jpeg",ref:l,readOnly:!0,hidden:!0})]}),e.jsx("div",{className:"col-span-1"}),e.jsxs("div",{className:"grid items-center justify-end grid-cols-1 col-span-1 my-auto",children:[e.jsxs("div",{className:"flex justify-end w-auto",children:[e.jsx(J,{id:"basic-button","aria-controls":a?"long-menu":void 0,"aria-haspopup":"true","aria-expanded":a?"true":void 0,onClick:u,sx:{padding:0},children:e.jsx("h1",{className:"text-2xl text-black",children:s||"Invoice"})}),e.jsx(W,{id:"long-menu",MenuListProps:{"aria-labelledby":"basic-button"},anchorEl:t,open:a,onClose:d,PaperProps:{style:{maxHeight:Ie*4,width:"20ch"}},children:Te.map(({title:n,url:x})=>e.jsx(X,{selected:n===s,onClick:()=>d(),children:e.jsx(S,{to:{pathname:x,search:`type=${n}`},children:n})},n))})]}),e.jsx("input",{className:"col-span-1 bg-white text-end",name:"document_num",type:"text",placeholder:"#0001",onChange:n=>o(f(n.target))})]})]})})},P=()=>e.jsx(e.Fragment,{children:e.jsx("header",{className:"bg-primary px-4 py-2 w-full z-20 fixed",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(S,{to:"/",children:e.jsxs("span",{className:"font-bold text-primary-100 cursor-pointer",children:["DOC",e.jsx("i",{className:"text-dark",children:".js"})]})})})})}),qe=()=>{const r=j(d=>d.document),{basicDetails:s,tableItems:t,paymentDetails:i,senderDetails:a,receiverDetails:l,tAndCList:o,type:u}=r;return{documentValidation:()=>{let d=Object.keys(r).length;function m(n,x){return Object.keys(n).length==x}let c=0;for(let n=0;n<1;n++)if(m(s,5)&&c++,t.length>0&&c++,m(i,4)&&c++,m(a,7)&&c++,m(l,7)&&c++,o.length>0&&c++,u&&c++,c===d)return{isReady:!0,count:c};return{isReady:!1,count:c}}}},Ae=({children:r})=>{const s=p.useRef(),t=g(),[i]=M(),[a,l]=p.useState(!1),o=i.get("type"),{documentValidation:u}=qe(),d=ie.useReactToPrint({content:()=>s.current}),m=()=>{const{isReady:x}=u();x?d():ne.warn("all fields are mandatory!")};p.useEffect(()=>{const{count:x}=u();x>1?l(!0):l(!1)},[u]),p.useEffect(()=>{t(ue(o))},[o]);let c,n;return a&&(c=e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed left-0 top-0 w-full flex justify-center z-30 py-[3rem]",children:e.jsx(ee,{titleAccess:"Reset form",sx:{fontSize:30},className:"p-2 text-white rounded-full shadow-md cursor-pointer bg-primary-500 shadow-primary-200 hover:scale-105",onClick:()=>t(fe())})})})),n=e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed right-[10px] bottom-[25px] z-30",children:e.jsx(se,{titleAccess:"download PDF",sx:{fontSize:40},className:"p-2 text-white rounded-full shadow-md cursor-pointer bg-primary-500 hover:scale-105",onClick:m})})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative bg-primary-100 min-h-screen max-w-full md:w-auto  overflow-x-scroll flex items-center py-[4rem] px-[2rem]",children:[n,c,e.jsx("div",{className:"z-0 mx-auto shadow-lg shadow-slate-500",children:e.jsx("div",{ref:s,children:e.jsxs("div",{className:"a4_size_class bg-white py-8 text-[0.875rem]",children:[e.jsx("div",{className:" border-primary-400 border-[0.1rem]"}),e.jsxs("div",{className:"px-8 bg-white",children:[r,e.jsx("div",{className:" border-primary-400 border-[0.1rem] mt-4"}),e.jsx(ae,{hideProgressBar:!0,autoClose:2e3,position:"top-center"})]})]})})})]})})},Be=e.jsx(e.Fragment,{}),Pe=e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed bottom-0 left-0 w-full flex justify-center bg-primary-500/70",children:e.jsx("i",{className:"text-secondary-800 text-[0.8rem]",children:"made with 💛 by 🍁"})})}),E=({children:r,header:s=Be,footer:t=Pe})=>e.jsxs(e.Fragment,{children:[s,r,t]}),Ee=[{title:"invoice",url:"document",icon:e.jsx(D,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"quotation",url:"document",icon:e.jsx(D,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"coming soon",url:null,icon:e.jsx(_,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"coming soon",url:null,icon:e.jsx(_,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})}],Le=e.jsx(e.Fragment,{children:e.jsx(P,{})});let $e=({icon:r,url:s,title:t})=>e.jsxs("div",{className:"relative group/items w-full px-[4rem] sm:px-[2rem] py-[1rem] bg-primary-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-end px-4 pt-4"}),e.jsxs("div",{className:"flex flex-col items-center pb-4",children:[r,e.jsx("span",{className:"text-gray-500  dark:text-gray-400",children:t})]}),e.jsx("div",{className:`absolute w-full h-full top-0 left-0 bg-black/80 rounded-lg flex justify-center items-center group-hover/items:visible invisible ${s?"inline":"hidden"}`,children:e.jsx(S,{to:{pathname:s,search:`type=${t}`},children:e.jsx("span",{className:"inline-flex items-center px-4 py-2 font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Create"})})})]});const Ve=()=>{let r=Ee.map((s,t)=>p.createElement($e,{...s,key:t}));return e.jsx(e.Fragment,{children:e.jsx(E,{header:Le,children:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-[1rem] text-center py-[2rem] mx-[1rem] 3xl:scale-150",children:r})})})})},Me=e.jsx(P,{}),He=()=>e.jsx(e.Fragment,{children:e.jsx(E,{header:Me,children:e.jsxs(Ae,{children:[e.jsx(Oe,{}),e.jsx(ke,{}),e.jsx(ze,{}),e.jsx(Ne,{}),e.jsx(De,{}),e.jsx(Re,{})]})})});function Ue(){return e.jsx(e.Fragment,{children:e.jsx(H,{basename:"/doc.js",children:e.jsxs(ce,{children:[e.jsx(w,{exact:!0,path:"/",element:e.jsx(Ve,{})}),e.jsx(w,{path:"document/",children:e.jsx(w,{index:!0,element:e.jsx(He,{})})})]})})})}const Ge=me({document:be});function*Qe(){}function*Ze(){yield oe([Qe])}const L=de(),Ke=le({reducer:Ge,middleware:()=>[L]});L.run(Ze);V.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsx(te,{store:Ke,children:e.jsx(I.ThemeProvider,{children:e.jsx(Ue,{})})})}));
