import{j as e,r as h,a as M}from"./react-c4227e47.js";import{c as V}from"./react-dom-8ed9d4dc.js";import{L as S,u as L,B as H}from"./react-router-dom-2c49dfe3.js";import{d as U,a as $,b as k,c as z,e as G,B as Q,M as Z,f as K,g as Y,h as J,i as D,j as F,k as N,l as W,m as X,n as ee,o as se}from"./@mui-56ae5e98.js";import{l as te}from"./react-to-print-e6356aba.js";import{u as I,a as j,P as ae}from"./react-redux-91182282.js";import{c as le,a as re}from"./@reduxjs-7fd14f58.js";import"./hoist-non-react-statics-3f8ebaa8.js";import"./react-is-a192e302.js";import{r as T}from"./@material-tailwind-5bd25e4b.js";import{k as ie,Q as ne}from"./react-toastify-1c0cb8e3.js";import{v as C}from"./uuid-4a60fe23.js";import{d as ce,e as w}from"./react-router-35817414.js";import{a as oe,s as de}from"./@redux-saga-5ddb86cd.js";import{a as me}from"./redux-cb156075.js";import"./@babel-f85afc27.js";import"./scheduler-765c72db.js";import"./@remix-run-8989dd9f.js";import"./clsx-1229b3e0.js";import"./react-transition-group-a2deae30.js";import"./@emotion-182f06c4.js";import"./stylis-79144faa.js";import"./use-sync-external-store-59095be7.js";import"./immer-41fd5235.js";import"./redux-thunk-ef899f4c.js";import"./classnames-63c61219.js";import"./tailwind-merge-873fa99f.js";import"./prop-types-387d7a00.js";import"./deepmerge-89e33937.js";import"./framer-motion-eafe8eed.js";import"./tslib-9ddc2525.js";import"./hey-listen-9fd53b5e.js";import"./style-value-types-86c13b32.js";import"./popmotion-33d1a48d.js";import"./framesync-409e5dda.js";import"./@motionone-71f965c5.js";import"./material-ripple-effects-ffa693ae.js";import"./@floating-ui-9e11684f.js";import"./aria-hidden-606e0ff2.js";import"./tabbable-6ab97b54.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}})();const ue=e.jsx(e.Fragment,{}),xe=e.jsx(e.Fragment,{}),O=({children:t,header:s=ue,footer:r=xe})=>e.jsxs(e.Fragment,{children:[s,t,r]}),R=()=>e.jsx(e.Fragment,{children:e.jsx("header",{className:"bg-primary px-4 py-2 fixed w-full z-20",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx(U,{className:"cursor-pointer"}),e.jsx("div",{children:e.jsx(S,{to:"/",children:e.jsxs("span",{className:"font-bold text-primary-100 cursor-pointer",children:["DOC",e.jsx("i",{className:"text-dark",children:".js"})]})})})]}),e.jsx("div",{className:"sm:px-4 px-0 cursor-pointer hidden sm:flex",children:e.jsx($,{sx:{fontSize:30}})})]})})}),pe=[{title:"invoice",url:"document",icon:e.jsx(k,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"quotation",url:"document",icon:e.jsx(k,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"coming soon",url:null,icon:e.jsx(z,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})},{title:"coming soon",url:null,icon:e.jsx(z,{sx:{fontSize:30},className:"w-24 h-24 mb-3 rounded-full shadow-lg"})}],he=e.jsx(e.Fragment,{children:e.jsx(R,{})}),ge=()=>{let t=pe.map(({icon:s,url:r,title:a},l)=>r?e.jsxs("div",{className:"w-full max-w-sm bg-primary-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-end px-4 pt-4"}),e.jsxs("div",{className:"flex flex-col items-center pb-4",children:[s,e.jsx("span",{className:" text-gray-500 dark:text-gray-400",children:a}),e.jsx(S,{to:{pathname:r,search:`type=${a}`},className:"flex mt-4 space-x-3 md:mt-6",children:e.jsx("span",{className:"inline-flex items-center px-4 py-2 font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Create"})})]})]},l):e.jsxs("div",{className:"w-full max-w-sm bg-primary-200 border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",children:[e.jsx("div",{className:"flex justify-end px-4 pt-4"}),e.jsxs("div",{className:"flex flex-col items-center pb-4",children:[s,e.jsx("span",{className:" text-gray-500 dark:text-gray-400",children:a})]})]},l));return e.jsx(e.Fragment,{children:e.jsx(O,{header:he,children:e.jsx("div",{className:"flex justify-center sm:h-[calc(100vh-3rem)] items-center",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-center py-4 w-2/4 sm:w-1/2 md:w-1/3",children:t})})})})},je={type:"",basicDetails:{},senderDetails:{},receiverDetails:{},tableItems:[],paymentDetails:{},tAndCList:[]},q=le({name:"doc",initialState:je,reducers:{typeOfDocument:(t,{payload:s})=>{t.type=s},basicDetails:(t,{payload:s})=>{const{name:r,value:a}=s;t.basicDetails={...t.basicDetails,[r]:a}},senderDetails:(t,{payload:s})=>{t.senderDetails=s},receiverDetails:(t,{payload:s})=>{t.receiverDetails=s},addTableItems:(t,{payload:s})=>{t.tableItems.push(s)},updateTableItems:(t,{payload:s})=>{t.tableItems=s},deleteTableItems:(t,{payload:s})=>{t.tableItems=s},paymentDetailsReq:(t,{payload:s})=>{t.paymentDetails=s},addConditionsReq:(t,{payload:s})=>{t.tAndCList.push(s)},updateConditionsReq:(t,{payload:s})=>{t.tAndCList=s},deleteConditionsReq:(t,{payload:s})=>{t.tAndCList=s}}}),{typeOfDocument:fe,basicDetails:y,senderDetails:P,receiverDetails:B,addTableItems:be,updateTableItems:ve,deleteTableItems:ye,paymentDetailsReq:E,addConditionsReq:Ne,updateConditionsReq:Es,deleteConditionsReq:we}=q.actions,Ce=q.reducer,Se=()=>{const{document:t}=I(d=>d),{basicDetails:s,tableItems:r,paymentDetails:a,senderDetails:l,receiverDetails:i,tAndCList:n,type:u}=t;return{documentValidation:()=>{let d=Object.keys(t).length;function x(m,o){return Object.keys(m).length==o}let c=0;for(let m=0;m<1;m++)if(x(s,5)&&c++,r.length>0&&c++,x(a,4)&&c++,x(l,7)&&c++,x(i,7)&&c++,n.length>0&&c++,u&&c++,c===d)return!0;return!1}}},De=({children:t})=>{const s=h.useRef(),r=j(),[a]=L(),l=a.get("type"),{documentValidation:i}=Se(),n=te.useReactToPrint({content:()=>s.current}),u=()=>{const x=i();console.log(x),x?n():ne.warn("all fields are mandatory!")};h.useEffect(()=>{r(fe(l))},[l]);let d;return d=e.jsx(e.Fragment,{children:e.jsx("div",{className:"fixed right-[25px] bottom-[25px]",children:e.jsx(G,{sx:{fontSize:40},className:"bg-primary-500 cursor-pointer text-white shadow-md rounded-full p-2 hover:scale-105",onClick:u})})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"py-28 bg-primary-50 w-fit md:w-auto",children:[d,e.jsx("div",{className:"mx-auto w-fit z-0 shadow-lg shadow-slate-500",children:e.jsx("div",{ref:s,children:e.jsxs("div",{className:"a4_size_class bg-white py-8 text-[0.875rem]",children:[e.jsx("div",{className:" border-primary-400 border-[0.1rem]"}),e.jsxs("div",{className:"px-8 bg-white",children:[t,e.jsx("div",{className:" border-primary-400 border-[0.1rem] mt-4"}),e.jsx(ie,{hideProgressBar:!0,autoClose:2e3})]})]})})})]})})},Fe=[{title:"invoice",url:"/document"},{title:"quotation",url:"/document"},{title:"other",url:"/document"}],ke=48,ze=({document_num:t,logo:s,type:r})=>{const[a,l]=h.useState(null),i=!!a,n=h.useRef(),u=j(),d=o=>{l(o.currentTarget)},x=()=>{l(null)},c=o=>{const{files:p}=o.target;if(p){const g=URL.createObjectURL(p[0]);u(y({name:"logo",value:g}))}};let m;return s?m=e.jsx("img",{className:"",src:s,alt:"logo",onClick:()=>n.current.click()}):m=e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-[100px] h-[100px] rounded-full flex justify-center items-center bg-blue-gray-500",onClick:()=>n.current.click(),children:e.jsx("div",{className:"text-gray-300",children:"Upload logo"})})}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative grid grid-cols-3 bg-slate-300 items-center my-[1.6rem]",children:[e.jsxs("div",{className:"col-span-1 items-center mx-auto",children:[e.jsx("div",{className:"cursor-pointer inline-block max-w-[180px] max-h-[100px] w-auto h-auto overflow-hidden",children:m}),e.jsx("input",{type:"file",id:"file",value:"",onChange:c,accept:"image/png, image/jpg, image/jpeg",ref:n,readOnly:!0,hidden:!0})]}),e.jsx("div",{className:"col-span-1"}),e.jsxs("div",{className:"col-span-1 grid grid-cols-1 justify-end items-center my-auto",children:[e.jsxs("div",{className:"w-auto flex justify-end",children:[e.jsx(Q,{id:"basic-button","aria-controls":i?"long-menu":void 0,"aria-haspopup":"true","aria-expanded":i?"true":void 0,onClick:d,sx:{padding:0},children:e.jsx("h1",{className:"text-2xl  text-black",children:r||"Invoice"})}),e.jsx(Z,{id:"long-menu",MenuListProps:{"aria-labelledby":"basic-button"},anchorEl:a,open:i,onClose:x,PaperProps:{style:{maxHeight:ke*4,width:"20ch"}},children:Fe.map(({title:o,url:p})=>e.jsx(K,{selected:o===r,onClick:()=>x(),children:e.jsx(S,{to:{pathname:p,search:`type=${o}`},children:o})},o))})]}),e.jsx("input",{className:"text-end col-span-1 bg-white",name:"document_num",type:"text",placeholder:"#0001",onChange:o=>u(y(o.target))})]})]})})},_e=()=>e.jsxs("div",{className:" p-4 border-2 mx-auto cursor-pointer",children:[e.jsx("span",{children:"To,"}),e.jsxs("div",{className:"flex gap-4 ml-4 items-center",children:[e.jsx("div",{className:"",children:e.jsx(Y,{sx:{fontSize:30}})}),e.jsx("span",{children:"Sender Details"})]})]}),Ie=()=>e.jsxs("div",{className:" p-4 border-2 mx-auto cursor-pointer",children:[e.jsx("span",{children:"To,"}),e.jsxs("div",{className:"flex gap-4 ml-4 items-center",children:[e.jsx("div",{className:"",children:e.jsx(J,{sx:{fontSize:30}})}),e.jsx("span",{children:"Receiver Details"})]})]}),Te={cName:"",address:"",locality:"",city:"",state:"",zip_code:"",country:""},Oe=({setIsFormOpen:t,type:s,formDetails:r})=>{const[a,l]=h.useState(Te),i=j(),n=d=>{const{name:x,value:c}=d.target;l(m=>({...m,[x]:c}))},u=d=>{d.preventDefault(),i(s==="sender"?P(a):B(a)),t(!1)};return h.useEffect(()=>{r&&l(r)},[r]),e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{id:"rdClose",className:"bg_main fixed top-0 left-0 w-full h-full z-10 ",children:e.jsx("form",{className:"flex h-full items-center",id:"moduleDetailsEditForm",action:"",onSubmit:u,children:e.jsxs("div",{className:"bg-white/70 w-3/4 sm:w-3/5 md:w-1/2 lg:w-1/3 mx-auto rounded-lg p-4 relative",children:[e.jsx("div",{className:"mx-auto flex justify-center",children:e.jsx("input",{className:"bg-gray-200 w-full p-2 my-4 rounded-lg",type:"text",placeholder:"Name/Company Name",name:"cName",value:a.cName,onChange:n,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"text",placeholder:"Address",name:"address",value:a.address,onChange:n,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"text",placeholder:"Locality",name:"locality",value:a.locality,onChange:n})}),e.jsxs("div",{className:"mx-auto grid grid-cols-4 gap-4",children:[e.jsx("input",{pattern:"[A-Za-z]+",className:"bg-gray-200 p-2 my-4 rounded-lg",type:"text",placeholder:"City",name:"city",value:a.city,onChange:n}),e.jsx("input",{pattern:"[A-Za-z]+",className:"bg-gray-200 p-2 my-4 rounded-lg",type:"text",placeholder:"State",name:"state",value:a.state,onChange:n,required:!0}),e.jsx("input",{pattern:"[0-9]+",className:"bg-gray-200 p-2 my-4 rounded-lg",type:"text",placeholder:"Post Code",name:"zip_code",value:a.zip_code,onChange:n,required:!0}),e.jsx("input",{pattern:"[A-Za-z]+",className:"bg-gray-200 p-2 my-4 rounded-lg",type:"text",placeholder:"Country/Region",name:"country",value:a.country,onChange:n,required:!0})]}),e.jsx("div",{className:"mx-auto flex justify-end",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ",children:"Add"})}),e.jsxs("div",{className:"absolute top-0 -right-8",children:[e.jsx("span",{className:"close text-2xl pl-1 text-white hover:text-red-800 cursor-pointer",onClick:()=>t(!1),children:"×"}),e.jsx("br",{})]})]})})})})})},_=({buttonDetails:t,type:s,cName:r,address:a,locality:l,city:i,state:n,zip_code:u,country:d})=>{const[x,c]=h.useState(!1),m=j(),o=()=>{if(s==="sender")return m(P({}));m(B({}))};let p,g,f;if(!r&&!a?(p=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-2 group-hover/items:visible",children:e.jsx(D,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>{c(!0)}})})}),f=t):(p=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-2 group-hover/items:visible",children:[e.jsx(F,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>c(!0)}),e.jsx(N,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:o})]})}),f=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-1",children:[e.jsx("strong",{children:e.jsx("input",{className:"tracking-wide bg-white",placeholder:"Company Name",disabled:!0,value:r})}),e.jsxs("div",{className:"grid grid-cols-2 grid-rows-4 ",children:[e.jsx("input",{className:"col-span-2 bg-white",placeholder:"Address",value:a,disabled:!0}),e.jsx("input",{className:"col-span-2 bg-white",placeholder:"Locality",value:l,disabled:!0}),e.jsx("input",{className:"col-span-1 bg-white",placeholder:"City",value:i,disabled:!0}),e.jsx("input",{className:"col-span-1 bg-white",placeholder:"State",value:n,disabled:!0}),e.jsx("input",{className:"col-span-2 bg-white",placeholder:"Pincode",value:u,disabled:!0})]})]})})),x){let b;r&&a&&(b={cName:r,address:a,locality:l,city:i,state:n,zip_code:u,country:d});let v={setIsFormOpen:c,type:s,formDetails:b};g=e.jsx(Oe,{...v})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative group/items ",children:[f,p,g]})})},Re=e.jsx(_e,{}),qe=e.jsx(Ie,{}),Pe=({senderDetails:t,receiverDetails:s,dateModule:r})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-12 gap-2 mb-[1.6rem]",children:[e.jsx("div",{className:"col-span-4",children:e.jsx(_,{buttonDetails:Re,type:"sender",...t})}),e.jsx("div",{className:"col-span-4",children:e.jsx(_,{buttonDetails:qe,type:"receiver",...s})}),e.jsx("div",{className:"col-span-4 text-end",children:r})]})}),Be=({setIsFormOpen:t,itemId:s,tableItems:r})=>{const[a,l]=h.useState({id:C(),description:"",hsn_no:"",qty:"",unit_price:"",total:""}),i=j();var n=[];n=r;const u=o=>{const{name:p,value:g}=o.target;l(f=>({...f,[p]:g}))},d=o=>{if(o.preventDefault(),s){const p=n.map(g=>g.id===a.id?a:g);i(ve(p))}else i(be(a));t(!1)},x=()=>{n.filter(o=>(o==null?void 0:o.id)===s?l(o):null)};let{unit_price:c,qty:m}=a;return h.useEffect(()=>{l(o=>({...o,total:c*m}))},[c,m]),h.useEffect(()=>{x()},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{id:"rdClose",className:"bg_main fixed top-0 left-0 w-full h-full z-10 ",children:e.jsx("form",{className:"flex items-center h-full",onSubmit:d,children:e.jsxs("div",{className:"bg-white/70 w-3/4 sm:w-3/5 md:w-1/2 lg:w-1/3 mx-auto rounded-lg p-4 relative",children:[e.jsx("div",{className:"mx-auto flex justify-center",children:e.jsx("input",{className:"bg-gray-200 w-full p-2 my-4 rounded-lg",type:"text",placeholder:"Description",name:"description",value:a.description,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"HSN-No.",name:"hsn_no",min:"1",value:a.hsn_no,onChange:u,required:!0,list:"hsnNum"})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"QTY",name:"qty",min:"1",value:a.qty,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"Unit Price",name:"unit_price",min:"1",value:a.unit_price,onChange:u,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{pattern:"[0-9]+",className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"number",placeholder:"Total",name:"total",value:a.total,readOnly:!0})}),e.jsx("div",{className:"mx-auto flex justify-end",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ",children:"Add"})}),e.jsx("div",{className:"absolute top-0 -right-6 cursor-pointer",onClick:()=>t(!1),children:e.jsx("span",{className:"close text-2xl text-white hover:text-red-800",children:"×"})})]})})})})},Ee=({description:t,tableItems:s})=>{const[r,a]=h.useState(!1),[l,i]=h.useState(null),n=j();let u,d,x,c=[];c=s;const m=o=>{const p=c.filter(g=>g.id!==o);n(ye(p))};if((c==null?void 0:c.length)<1?u=e.jsx(e.Fragment,{children:e.jsx("div",{className:"bottom-0 bg-primary-100 cursor-pointer hover:bg-primary-200 rounded-md w-full h-full py-2 flex justify-center items-center",onClick:()=>{a(!0),i(null)},children:e.jsxs("div",{className:"flex justify-center items-center gap-2 hover:scale-105 bg-primary-400 rounded-full px-4",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new item"})]})})}):(u=e.jsx(e.Fragment,{children:c.map(({description:o,hsn_no:p,qty:g,unit_price:f,total:b,id:v})=>e.jsxs("div",{className:"relative group/items",children:[e.jsxs("div",{className:"flex items-center border-b-2 ",children:[e.jsx("h2",{className:"w-2/5 px-2 py-1 break-words",children:o}),e.jsxs("div",{className:"flex w-3/5",children:[e.jsx("h2",{className:"w-1/3 flex justify-center ",children:p}),e.jsx("h2",{className:"w-1/5 flex justify-center",children:g}),e.jsx("h2",{className:"w-1/3 flex justify-end",children:f}),e.jsx("h2",{className:"w-1/3 flex justify-end pr-2",children:b})]})]}),e.jsxs("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-2 group-hover/items:visible",children:[e.jsx(F,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white hover:text-yellow-500",sx:{fontSize:20},onClick:()=>{a(!0),i(v)}}),e.jsx(N,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white hover:text-red-500",sx:{fontSize:20},onClick:()=>m(v)})]})]},v))}),d=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute cursor-pointer z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-4 group-hover/items:visible",onClick:()=>{a(!0),i(null)},children:e.jsxs("div",{className:"flex justify-center items-center gap-2 hover:scale-105 bg-primary-400 rounded-full px-4",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new item"})]})})})),r){let o={setIsFormOpen:a,itemId:l,tableItems:s};x=e.jsx(Be,{...o})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-[1.6rem]",children:[e.jsxs("div",{className:"relative group/items",children:[e.jsxs("div",{className:"flex bg-primary-400 h-10 items-center ",children:[e.jsx("h2",{className:"w-2/5 px-2 ",children:e.jsx("strong",{children:"Description"})}),e.jsxs("div",{className:"flex w-3/5",children:[e.jsx("h2",{className:"w-1/3 flex justify-center py-1",children:e.jsx("strong",{children:"HSN Code"})}),e.jsx("h2",{className:"w-1/5 flex justify-center py-1",children:e.jsx("strong",{children:"Qty"})}),e.jsx("h2",{className:"w-1/3 flex justify-end py-1",children:e.jsx("strong",{children:"Unit Price"})}),e.jsx("h2",{className:"w-1/3 flex justify-end py-1 pr-2",children:e.jsx("strong",{children:"Amount"})})]})]}),d]}),u,x]})})},Ae=({tableItems:t,type:s})=>{const[r,a]=h.useState(0);let l=0,i=0,n=0,u=[],d=0,x=0;return u=t,u.length>0&&(u.map(c=>{l+=c.total}),d=l*r/100,x=l-d,i=x*18/100,n=x+i),e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex justify-end mb-[1.6rem]",children:e.jsxs("div",{className:"w-3/5 ",children:[e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full py-1 px-2 bg-primary-400 border-b-2",children:"Total"}),e.jsx("h2",{className:"w-1/3 flex justify-end py-1 border-b-2 px-1",children:l.toLocaleString()})]}),e.jsxs("div",{className:`relative flex bg-slate-100 ${s!=="quotation"?"hidden":null}`,children:[e.jsx("strong",{className:"w-full py-1 px-2 bg-primary-400 border-b-2",children:"Discount"}),e.jsxs("div",{className:"absolute left-24",children:[e.jsx("input",{className:"w-14 outline-none py-1 px-2",type:"number",placeholder:"",name:"disc",value:r,onChange:c=>c.target.value>=0&&c.target.value<=100?a(c.target.value):null}),e.jsx("span",{className:"absolute right-1 items-center my-1",children:"%"})]}),e.jsx("h2",{className:"w-1/3 flex justify-end py-1 border-b-2 px-1",children:d.toLocaleString(void 0,{maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full py-1 px-2 bg-primary-400 border-b-2",children:"GST-18%"}),e.jsx("h2",{className:"w-1/3 flex justify-end py-1 border-b-2 px-1",children:i.toLocaleString(void 0,{maximumFractionDigits:2})})]}),e.jsxs("div",{className:"flex bg-slate-100",children:[e.jsx("strong",{className:"w-full py-1 px-2 bg-primary-400 ",children:"Grand Total(Include Tax)"}),e.jsx("strong",{className:"w-1/3 flex justify-end py-1 px-1 bg-primary-200",children:"₹ "+n.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})})})},Me=({setIsFormOpen:t,formDetails:s})=>{const r={account_number:"",bank_name:"",ifsc:"",gstin_no:""},[a,l]=h.useState(r),i=j(),n=d=>{const{name:x,value:c}=d.target;l(m=>({...m,[x]:c}))},u=d=>{d.preventDefault(),i(E(a)),t(!1)};return h.useEffect(()=>{s&&l(s)},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{children:e.jsx("div",{id:"rdClose",className:"bg_main fixed top-0 left-0 w-full h-full z-10 ",children:e.jsx("form",{className:"flex items-center h-full",id:"moduleDetailsEditForm",action:"",onSubmit:u,children:e.jsxs("div",{className:"bg-white/70 w-3/4 sm:w-3/5 md:w-1/2 lg:w-1/3 mx-auto rounded-lg p-4 relative",children:[e.jsx("div",{className:"mx-auto flex justify-center",children:e.jsx("input",{className:"bg-gray-200 w-full p-2 my-4 rounded-lg",type:"text",placeholder:"Account Number",name:"account_number",value:a.account_number,onChange:n,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"text",placeholder:"Bank Name",name:"bank_name",value:a.bank_name,onChange:n,required:!0})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"text",placeholder:"IFSC",name:"ifsc",value:a.ifsc,onChange:n})}),e.jsx("div",{className:"mx-auto grid grid-cols-3 gap-4",children:e.jsx("input",{className:"bg-gray-200 p-2 my-4 rounded-lg col-span-2",type:"text",placeholder:"GSTIN No.",name:"gstin_no",value:a.gstin_no,onChange:n})}),e.jsx("div",{className:"mx-auto flex justify-end",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full ",children:"Add"})}),e.jsxs("div",{className:"absolute top-0 -right-8",children:[e.jsx("span",{className:"close text-2xl pl-1 text-white hover:text-red-800 cursor-pointer",onClick:()=>t(!1),children:"×"}),e.jsx("br",{})]})]})})})})})},Ve=({account_number:t,bank_name:s,ifsc:r,gstin_no:a,basicDetails:l})=>{const[i,n]=h.useState(!1),u=j(),d=h.useRef();let x,c,m;if(t&&s?(x=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-2 group-hover/items:visible",children:[e.jsx(F,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>{n(!0)}}),e.jsx(N,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>u(E({}))})]})}),c=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-1",children:[e.jsx("h2",{className:"",children:"Bank & Payment Details"}),e.jsx("table",{className:"3/4",children:e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Account Number:"}),e.jsx("td",{children:t})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"Bank Name:"}),e.jsx("td",{children:s})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"IFSC:"}),e.jsx("td",{children:r})]}),e.jsxs("tr",{children:[e.jsx("td",{children:"GSTIN No:"}),e.jsx("td",{children:a})]})]})})]})})):(x=e.jsx(e.Fragment,{children:e.jsx("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-4 group-hover/items:visible",children:e.jsx(D,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>{n(!0)}})})}),c=e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 p-2 justify-center items-center border-[0.2rem] h-auto w-auto min-w-[150px] ",children:[e.jsx(W,{className:"col-span-1 mx-auto",sx:{fontSize:30}}),e.jsx("span",{className:"col-span-1 mx-auto",children:"Payment Details"})]})})),i){let p;t&&s&&(p={account_number:t,bank_name:s,gstin_no:a,ifsc:r});let g={setIsFormOpen:n,formDetails:p};m=e.jsx(Me,{...g})}const o=p=>{let{name:g,files:f}=p.target;const b=URL.createObjectURL(f[0]);u(y({name:g,value:b}))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex items-end justify-between mb-[1.6rem]",children:[e.jsxs("div",{className:"relative group/items",children:[c,x]}),e.jsxs("div",{className:"mx-8",children:[e.jsx("div",{className:"w-full h-auto flex justify-center",children:e.jsx("img",{className:"max-w-[100px] max-h-[60px] ",src:l==null?void 0:l.digital_sign,alt:"sign",hidden:!(l!=null&&l.digital_sign)})}),e.jsx(T.Tooltip,{className:"",content:"Add Digital Sign",children:e.jsx("strong",{className:"mx-auto w-fit  cursor-pointer text-gray-500 border-t-2 border-t-slate-400 py-1",onClick:()=>d.current.click(),children:"Authorized Signatory"})}),e.jsx("input",{name:"digital_sign",type:"file",accept:"image/*",value:"",readOnly:!0,hidden:!0,ref:d,onChange:o})]}),m]})})},Le=({tAndCList:t})=>{const[s,r]=h.useState(!1);h.useState(null);const a=j(),[l,i]=h.useState({id:C(),tc:""}),n=m=>{m.preventDefault(),a(Ne(l)),i({id:C(),tc:""})},u=m=>{let o=t.filter(p=>p.id!==m);a(we(o))};let d,x,c;return(t==null?void 0:t.length)>0||s?(d=e.jsxs("div",{className:"relative group/items",children:[e.jsx("strong",{className:"  ",children:"Terms & Conditions"}),e.jsx("div",{className:"absolute left-[150px] top-0",children:e.jsxs("div",{className:"flex justify-center items-center invisible group-hover/items:visible gap-2 hover:scale-105 bg-primary-400 rounded-full px-4 cursor-pointer",onClick:()=>r(!0),children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new t&c"})]})})]}),x=e.jsx("ol",{className:"text-xs list-disc",children:t==null?void 0:t.map(({id:m,tc:o})=>e.jsxs("div",{className:"relative group/items",children:[e.jsx("li",{className:"ml-5 break-words",children:o},m),e.jsx("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-2 group-hover/items:visible",children:e.jsx(N,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white hover:text-red-500",sx:{fontSize:20},onClick:()=>u(m)})})]},m))})):(s||(d=e.jsxs("div",{className:"relative group/items h-auto w-auto max-w-[150px] mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 p-2 justify-center items-center border-[0.2rem]  ",children:[e.jsx(se,{className:"col-span-1 mx-auto",sx:{fontSize:30}}),e.jsx("span",{className:"col-span-1 mx-auto",children:"T&C"})]}),e.jsx("div",{className:"absolute z-10 bottom-0 bg-black/60 rounded-md w-full h-full invisible flex justify-center items-center gap-4 group-hover/items:visible",children:e.jsx(D,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:25},onClick:()=>{r(!0)}})})]})),x=e.jsx(e.Fragment,{})),s&&(c=e.jsx("div",{className:"relative mb-8",children:e.jsxs("form",{onSubmit:n,children:[e.jsx("textarea",{className:"border-[0.2rem] p-1 focus:border-primary-400 outline-none",name:"tc",id:"T&C",cols:"60",rows:"2",value:l.tc,required:!0,onChange:m=>i({...l,[m.target.name]:m.target.value})}),e.jsxs("div",{className:"absolute z-10 -bottom-4 left-[405px] flex justify-center items-center gap-2 ",children:[e.jsx("button",{type:"submit",children:e.jsx(X,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:18}})}),e.jsx(ee,{className:"bg-primary-500 hover:scale-110 rounded-full p-1 cursor-pointer text-white",sx:{fontSize:18},onClick:()=>r(!1)})]})]})}),(t==null?void 0:t.length)>0&&(d=e.jsxs("div",{className:"relative group/items",children:[e.jsx("strong",{className:" ",children:"Terms & Conditions"}),e.jsx("div",{className:"absolute left-[150px] top-0",children:e.jsxs("div",{className:"flex justify-center items-center invisible group-hover/items:visible gap-2 hover:scale-105 bg-primary-400 rounded-full px-4 cursor-pointer",children:[e.jsx("span",{className:"font-bold",children:"+"}),e.jsx("span",{children:"Add new t&c"})]})})]}))),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"",children:[e.jsx("div",{className:"pb-2",children:d}),e.jsx("div",{children:x}),c]})})},He=({date:t,due_date:s,qtn_number:r})=>{const a=j(),l=i=>{i.target,a(y(i.target))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative group/items h-full",children:e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsx("strong",{className:"col-span-2",children:"Issue date:"}),e.jsx("input",{className:"col-span-2 text-end bg-white",name:"date",type:"date",placeholder:"Date",value:t,onChange:l}),e.jsx("strong",{className:"col-span-2",children:"Due date:"}),e.jsx("input",{className:"col-span-2 text-end bg-white",name:"due_date",type:"date",placeholder:"Date",value:s,onChange:l}),e.jsx("label",{className:"col-span-2",hidden:!r,children:"Qtn Ref. No:"}),e.jsx("input",{className:"col-span-2 text-end bg-white",type:"text",placeholder:"qtn number",value:r,hidden:!r})]})})})},Ue=e.jsx(R,{}),$e=e.jsx(He,{}),Ge=()=>{const{basicDetails:t,tableItems:s,paymentDetails:r,senderDetails:a,receiverDetails:l,tAndCList:i,type:n}=I(u=>u.document);return e.jsx(e.Fragment,{children:e.jsx(O,{header:Ue,children:e.jsxs(De,{children:[e.jsx(ze,{...t,type:n}),e.jsx(Pe,{senderDetails:a,receiverDetails:l,dateModule:$e}),e.jsx(Ee,{tableItems:s}),e.jsx(Ae,{tableItems:s,type:n}),e.jsx(Ve,{...r,basicDetails:t}),e.jsx(Le,{tAndCList:i})]})})})};function Qe(){return e.jsx(e.Fragment,{children:e.jsx(H,{basename:"/doc.js",children:e.jsxs(ce,{children:[e.jsx(w,{exact:!0,path:"/",element:e.jsx(ge,{})}),e.jsx(w,{path:"document/",children:e.jsx(w,{index:!0,element:e.jsx(Ge,{})})})]})})})}const Ze=me({document:Ce});function*Ke(){}function*Ye(){yield oe([Ke])}const A=de(),Je=re({reducer:Ze,middleware:()=>[A]});A.run(Ye);V.createRoot(document.getElementById("root")).render(e.jsx(M.StrictMode,{children:e.jsx(ae,{store:Je,children:e.jsx(T.ThemeProvider,{children:e.jsx(Qe,{})})})}));
