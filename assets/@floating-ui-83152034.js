import{g as Cn}from"./@babel-0120766e.js";import{r as d,R as qt}from"./react-91784986.js";import{h as Pn}from"./aria-hidden-606e0ff2.js";import{t as qe}from"./tabbable-6ab97b54.js";import{r as be}from"./react-dom-aae22b8e.js";const Gt=["top","right","bottom","left"],Pt=["start","end"],At=Gt.reduce((e,t)=>e.concat(t,t+"-"+Pt[0],t+"-"+Pt[1]),[]),ue=Math.min,U=Math.max,Ge=Math.round,Ke=Math.floor,we=e=>({x:e,y:e}),An={left:"right",right:"left",bottom:"top",top:"bottom"},Sn={start:"end",end:"start"};function ft(e,t,n){return U(e,ue(t,n))}function ae(e,t){return typeof e=="function"?e(t):e}function te(e){return e.split("-")[0]}function le(e){return e.split("-")[1]}function gt(e){return e==="x"?"y":"x"}function pt(e){return e==="y"?"height":"width"}function Oe(e){return["top","bottom"].includes(te(e))?"y":"x"}function ht(e){return gt(Oe(e))}function Ut(e,t,n){n===void 0&&(n=!1);const r=le(e),o=ht(e),i=pt(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Ze(s)),[s,Ze(s)]}function In(e){const t=Ze(e);return[Ue(e),t,Ue(t)]}function Ue(e){return e.replace(/start|end/g,t=>Sn[t])}function Mn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Ln(e,t,n,r){const o=le(e);let i=Mn(te(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Ue)))),i}function Ze(e){return e.replace(/left|right|bottom|top/g,t=>An[t])}function Fn(e){return{top:0,right:0,bottom:0,left:0,...e}}function vt(e){return typeof e!="number"?Fn(e):{top:e,right:e,bottom:e,left:e}}function Se(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function St(e,t,n){let{reference:r,floating:o}=e;const i=Oe(t),s=ht(t),c=pt(s),l=te(t),a=i==="y",p=r.x+r.width/2-o.width/2,h=r.y+r.height/2-o.height/2,g=r[c]/2-o[c]/2;let f;switch(l){case"top":f={x:p,y:r.y-o.height};break;case"bottom":f={x:p,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-o.width,y:h};break;default:f={x:r.x,y:r.y}}switch(le(t)){case"start":f[s]-=g*(n&&a?-1:1);break;case"end":f[s]+=g*(n&&a?-1:1);break}return f}const Dn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=St(a,r,l),g=r,f={},v=0;for(let m=0;m<c.length;m++){const{name:y,fn:b}=c[m],{x:R,y:w,data:E,reset:x}=await b({x:p,y:h,initialPlacement:r,placement:g,strategy:o,middlewareData:f,rects:a,platform:s,elements:{reference:e,floating:t}});if(p=R??p,h=w??h,f={...f,[y]:{...f[y],...E}},x&&v<=50){v++,typeof x=="object"&&(x.placement&&(g=x.placement),x.rects&&(a=x.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):x.rects),{x:p,y:h}=St(a,g,l)),m=-1;continue}}return{x:p,y:h,placement:g,strategy:o,middlewareData:f}};async function fe(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:g=!1,padding:f=0}=ae(t,e),v=vt(f),y=c[g?h==="floating"?"reference":"floating":h],b=Se(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(y)))==null||n?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:p,strategy:l})),R=h==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),E=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},x=Se(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:R,offsetParent:w,strategy:l}):R);return{top:(b.top-x.top+v.top)/E.y,bottom:(x.bottom-b.bottom+v.bottom)/E.y,left:(b.left-x.left+v.left)/E.x,right:(x.right-b.right+v.right)/E.x}}const It=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:l}=t,{element:a,padding:p=0}=ae(e,t)||{};if(a==null)return{};const h=vt(p),g={x:n,y:r},f=ht(o),v=pt(f),m=await s.getDimensions(a),y=f==="y",b=y?"top":"left",R=y?"bottom":"right",w=y?"clientHeight":"clientWidth",E=i.reference[v]+i.reference[f]-g[f]-i.floating[v],x=g[f]-i.reference[f],C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let N=C?C[w]:0;(!N||!await(s.isElement==null?void 0:s.isElement(C)))&&(N=c.floating[w]||i.floating[v]);const B=E/2-x/2,I=N/2-m[v]/2-1,T=ue(h[b],I),u=ue(h[R],I),L=T,M=N-m[v]-u,O=N/2-m[v]/2+B,A=ft(L,O,M),D=!l.arrow&&le(o)!=null&&O!=A&&i.reference[v]/2-(O<L?T:u)-m[v]/2<0,W=D?O<L?O-L:O-M:0;return{[f]:g[f]+W,data:{[f]:A,centerOffset:O-A-W,...D&&{alignmentOffset:W}},reset:D}}});function kn(e,t,n){return(e?[...n.filter(o=>le(o)===e),...n.filter(o=>le(o)!==e)]:n.filter(o=>te(o)===o)).filter(o=>e?le(o)===e||(t?Ue(o)!==o:!1):!0)}const Nn=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:l,elements:a}=t,{crossAxis:p=!1,alignment:h,allowedPlacements:g=At,autoAlignment:f=!0,...v}=ae(e,t),m=h!==void 0||g===At?kn(h||null,f,g):g,y=await fe(t,v),b=((n=s.autoPlacement)==null?void 0:n.index)||0,R=m[b];if(R==null)return{};const w=Ut(R,i,await(l.isRTL==null?void 0:l.isRTL(a.floating)));if(c!==R)return{reset:{placement:m[0]}};const E=[y[te(R)],y[w[0]],y[w[1]]],x=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:R,overflows:E}],C=m[b+1];if(C)return{data:{index:b+1,overflows:x},reset:{placement:C}};const N=x.map(T=>{const u=le(T.placement);return[T.placement,u&&p?T.overflows.slice(0,2).reduce((L,M)=>L+M,0):T.overflows[0],T.overflows]}).sort((T,u)=>T[1]-u[1]),I=((o=N.filter(T=>T[2].slice(0,le(T[0])?2:3).every(u=>u<=0))[0])==null?void 0:o[0])||N[0][0];return I!==c?{data:{index:b+1,overflows:x},reset:{placement:I}}:{}}}},Bn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:l,elements:a}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...y}=ae(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const b=te(o),R=te(c)===c,w=await(l.isRTL==null?void 0:l.isRTL(a.floating)),E=g||(R||!m?[Ze(c)]:In(c));!g&&v!=="none"&&E.push(...Ln(c,m,v,w));const x=[c,...E],C=await fe(t,y),N=[];let B=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&N.push(C[b]),h){const L=Ut(o,s,w);N.push(C[L[0]],C[L[1]])}if(B=[...B,{placement:o,overflows:N}],!N.every(L=>L<=0)){var I,T;const L=(((I=i.flip)==null?void 0:I.index)||0)+1,M=x[L];if(M)return{data:{index:L,overflows:B},reset:{placement:M}};let O=(T=B.filter(A=>A.overflows[0]<=0).sort((A,D)=>A.overflows[1]-D.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(f){case"bestFit":{var u;const A=(u=B.map(D=>[D.placement,D.overflows.filter(W=>W>0).reduce((W,P)=>W+P,0)]).sort((D,W)=>D[1]-W[1])[0])==null?void 0:u[0];A&&(O=A);break}case"initialPlacement":O=c;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function Mt(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Lt(e){return Gt.some(t=>e[t]>=0)}const Hn=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=ae(e,t);switch(r){case"referenceHidden":{const i=await fe(t,{...o,elementContext:"reference"}),s=Mt(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Lt(s)}}}case"escaped":{const i=await fe(t,{...o,altBoundary:!0}),s=Mt(i,n.floating);return{data:{escapedOffsets:s,escaped:Lt(s)}}}default:return{}}}}};function Zt(e){const t=ue(...e.map(i=>i.left)),n=ue(...e.map(i=>i.top)),r=U(...e.map(i=>i.right)),o=U(...e.map(i=>i.bottom));return{x:t,y:n,width:r-t,height:o-n}}function Vn(e){const t=e.slice().sort((o,i)=>o.y-i.y),n=[];let r=null;for(let o=0;o<t.length;o++){const i=t[o];!r||i.y-r.y>r.height/2?n.push([i]):n[n.length-1].push(i),r=i}return n.map(o=>Se(Zt(o)))}const Wn=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:o,platform:i,strategy:s}=t,{padding:c=2,x:l,y:a}=ae(e,t),p=Array.from(await(i.getClientRects==null?void 0:i.getClientRects(r.reference))||[]),h=Vn(p),g=Se(Zt(p)),f=vt(c);function v(){if(h.length===2&&h[0].left>h[1].right&&l!=null&&a!=null)return h.find(y=>l>y.left-f.left&&l<y.right+f.right&&a>y.top-f.top&&a<y.bottom+f.bottom)||g;if(h.length>=2){if(Oe(n)==="y"){const T=h[0],u=h[h.length-1],L=te(n)==="top",M=T.top,O=u.bottom,A=L?T.left:u.left,D=L?T.right:u.right,W=D-A,P=O-M;return{top:M,bottom:O,left:A,right:D,width:W,height:P,x:A,y:M}}const y=te(n)==="left",b=U(...h.map(T=>T.right)),R=ue(...h.map(T=>T.left)),w=h.filter(T=>y?T.left===R:T.right===b),E=w[0].top,x=w[w.length-1].bottom,C=R,N=b,B=N-C,I=x-E;return{top:E,bottom:x,left:C,right:N,width:B,height:I,x:C,y:E}}return g}const m=await i.getElementRects({reference:{getBoundingClientRect:v},floating:r.floating,strategy:s});return o.reference.x!==m.reference.x||o.reference.y!==m.reference.y||o.reference.width!==m.reference.width||o.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};async function _n(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=te(n),c=le(n),l=Oe(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&l?-1:1,h=ae(t,e);let{mainAxis:g,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof v=="number"&&(f=c==="end"?v*-1:v),l?{x:f*p,y:g*a}:{x:g*a,y:f*p}}const Jt=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await _n(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},Kn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:y=>{let{x:b,y:R}=y;return{x:b,y:R}}},...l}=ae(e,t),a={x:n,y:r},p=await fe(t,l),h=Oe(te(o)),g=gt(h);let f=a[g],v=a[h];if(i){const y=g==="y"?"top":"left",b=g==="y"?"bottom":"right",R=f+p[y],w=f-p[b];f=ft(R,f,w)}if(s){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",R=v+p[y],w=v-p[b];v=ft(R,v,w)}const m=c.fn({...t,[g]:f,[h]:v});return{...m,data:{x:m.x-n,y:m.y-r}}}}},jn=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:i,middlewareData:s}=t,{offset:c=0,mainAxis:l=!0,crossAxis:a=!0}=ae(e,t),p={x:n,y:r},h=Oe(o),g=gt(h);let f=p[g],v=p[h];const m=ae(c,t),y=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=g==="y"?"height":"width",E=i.reference[g]-i.floating[w]+y.mainAxis,x=i.reference[g]+i.reference[w]-y.mainAxis;f<E?f=E:f>x&&(f=x)}if(a){var b,R;const w=g==="y"?"width":"height",E=["top","left"].includes(te(o)),x=i.reference[h]-i.floating[w]+(E&&((b=s.offset)==null?void 0:b[h])||0)+(E?0:y.crossAxis),C=i.reference[h]+i.reference[w]+(E?0:((R=s.offset)==null?void 0:R[h])||0)-(E?y.crossAxis:0);v<x?v=x:v>C&&(v=C)}return{[g]:f,[h]:v}}}},$n=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:o,elements:i}=t,{apply:s=()=>{},...c}=ae(e,t),l=await fe(t,c),a=te(n),p=le(n),h=Oe(n)==="y",{width:g,height:f}=r.floating;let v,m;a==="top"||a==="bottom"?(v=a,m=p===(await(o.isRTL==null?void 0:o.isRTL(i.floating))?"start":"end")?"left":"right"):(m=a,v=p==="end"?"top":"bottom");const y=f-l[v],b=g-l[m],R=!t.middlewareData.shift;let w=y,E=b;if(h){const C=g-l.left-l.right;E=p||R?ue(b,C):C}else{const C=f-l.top-l.bottom;w=p||R?ue(y,C):C}if(R&&!p){const C=U(l.left,0),N=U(l.right,0),B=U(l.top,0),I=U(l.bottom,0);h?E=g-2*(C!==0||N!==0?C+N:U(l.left,l.right)):w=f-2*(B!==0||I!==0?B+I:U(l.top,l.bottom))}await s({...t,availableWidth:E,availableHeight:w});const x=await o.getDimensions(i.floating);return g!==x.width||f!==x.height?{reset:{rects:!0}}:{}}}};function xe(e){return Qt(e)?(e.nodeName||"").toLowerCase():"#document"}function ee(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function he(e){var t;return(t=(Qt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Qt(e){return e instanceof Node||e instanceof ee(e).Node}function pe(e){return e instanceof Element||e instanceof ee(e).Element}function de(e){return e instanceof HTMLElement||e instanceof ee(e).HTMLElement}function Ft(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ee(e).ShadowRoot}function We(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function zn(e){return["table","td","th"].includes(xe(e))}function yt(e){const t=bt(),n=se(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Yn(e){let t=Ie(e);for(;de(t)&&!nt(t);){if(yt(t))return t;t=Ie(t)}return null}function bt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function nt(e){return["html","body","#document"].includes(xe(e))}function se(e){return ee(e).getComputedStyle(e)}function rt(e){return pe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ie(e){if(xe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ft(e)&&e.host||he(e);return Ft(t)?t.host:t}function en(e){const t=Ie(e);return nt(t)?e.ownerDocument?e.ownerDocument.body:e.body:de(t)&&We(t)?t:en(t)}function ge(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=en(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ee(o);return i?t.concat(s,s.visualViewport||[],We(o)?o:[],s.frameElement&&n?ge(s.frameElement):[]):t.concat(o,ge(o,[],n))}function tn(e){const t=se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=de(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ge(n)!==i||Ge(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function wt(e){return pe(e)?e:e.contextElement}function Ae(e){const t=wt(e);if(!de(t))return we(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=tn(t);let s=(i?Ge(n.width):n.width)/r,c=(i?Ge(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const Xn=we(0);function nn(e){const t=ee(e);return!bt()||!t.visualViewport?Xn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ee(e)?!1:t}function Re(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=wt(e);let s=we(1);t&&(r?pe(r)&&(s=Ae(r)):s=Ae(e));const c=qn(i,n,r)?nn(i):we(0);let l=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,p=o.width/s.x,h=o.height/s.y;if(i){const g=ee(i),f=r&&pe(r)?ee(r):r;let v=g.frameElement;for(;v&&r&&f!==g;){const m=Ae(v),y=v.getBoundingClientRect(),b=se(v),R=y.left+(v.clientLeft+parseFloat(b.paddingLeft))*m.x,w=y.top+(v.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,a*=m.y,p*=m.x,h*=m.y,l+=R,a+=w,v=ee(v).frameElement}}return Se({width:p,height:h,x:l,y:a})}function Gn(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=de(n),i=he(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},c=we(1);const l=we(0);if((o||!o&&r!=="fixed")&&((xe(n)!=="body"||We(i))&&(s=rt(n)),de(n))){const a=Re(n);c=Ae(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+l.x,y:t.y*c.y-s.scrollTop*c.y+l.y}}function Un(e){return Array.from(e.getClientRects())}function rn(e){return Re(he(e)).left+rt(e).scrollLeft}function Zn(e){const t=he(e),n=rt(e),r=e.ownerDocument.body,o=U(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=U(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+rn(e);const c=-n.scrollTop;return se(r).direction==="rtl"&&(s+=U(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function Jn(e,t){const n=ee(e),r=he(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,l=0;if(o){i=o.width,s=o.height;const a=bt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:c,y:l}}function Qn(e,t){const n=Re(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=de(e)?Ae(e):we(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,l=o*i.x,a=r*i.y;return{width:s,height:c,x:l,y:a}}function Dt(e,t,n){let r;if(t==="viewport")r=Jn(e,n);else if(t==="document")r=Zn(he(e));else if(pe(t))r=Qn(t,n);else{const o=nn(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Se(r)}function on(e,t){const n=Ie(e);return n===t||!pe(n)||nt(n)?!1:se(n).position==="fixed"||on(n,t)}function er(e,t){const n=t.get(e);if(n)return n;let r=ge(e,[],!1).filter(c=>pe(c)&&xe(c)!=="body"),o=null;const i=se(e).position==="fixed";let s=i?Ie(e):e;for(;pe(s)&&!nt(s);){const c=se(s),l=yt(s);!l&&c.position==="fixed"&&(o=null),(i?!l&&!o:!l&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||We(s)&&!l&&on(e,s))?r=r.filter(p=>p!==s):o=c,s=Ie(s)}return t.set(e,r),r}function tr(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?er(t,this._c):[].concat(n),r],c=s[0],l=s.reduce((a,p)=>{const h=Dt(t,p,o);return a.top=U(h.top,a.top),a.right=ue(h.right,a.right),a.bottom=ue(h.bottom,a.bottom),a.left=U(h.left,a.left),a},Dt(t,c,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nr(e){return tn(e)}function rr(e,t,n){const r=de(t),o=he(t),i=n==="fixed",s=Re(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const l=we(0);if(r||!r&&!i)if((xe(t)!=="body"||We(o))&&(c=rt(t)),r){const a=Re(t,!0,i,t);l.x=a.x+t.clientLeft,l.y=a.y+t.clientTop}else o&&(l.x=rn(o));return{x:s.left+c.scrollLeft-l.x,y:s.top+c.scrollTop-l.y,width:s.width,height:s.height}}function kt(e,t){return!de(e)||se(e).position==="fixed"?null:t?t(e):e.offsetParent}function sn(e,t){const n=ee(e);if(!de(e))return n;let r=kt(e,t);for(;r&&zn(r)&&se(r).position==="static";)r=kt(r,t);return r&&(xe(r)==="html"||xe(r)==="body"&&se(r).position==="static"&&!yt(r))?n:r||Yn(e)||n}const or=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||sn,i=this.getDimensions;return{reference:rr(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function ir(e){return se(e).direction==="rtl"}const cn={convertOffsetParentRelativeRectToViewportRelativeRect:Gn,getDocumentElement:he,getClippingRect:tr,getOffsetParent:sn,getElementRects:or,getClientRects:Un,getDimensions:nr,getScale:Ae,isElement:pe,isRTL:ir};function sr(e,t){let n=null,r;const o=he(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),i();const{left:a,top:p,width:h,height:g}=e.getBoundingClientRect();if(c||t(),!h||!g)return;const f=Ke(p),v=Ke(o.clientWidth-(a+h)),m=Ke(o.clientHeight-(p+g)),y=Ke(a),R={rootMargin:-f+"px "+-v+"px "+-m+"px "+-y+"px",threshold:U(0,ue(1,l))||1};let w=!0;function E(x){const C=x[0].intersectionRatio;if(C!==l){if(!w)return s();C?s(!1,C):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(E,{...R,root:o.ownerDocument})}catch{n=new IntersectionObserver(E,R)}n.observe(e)}return s(!0),i}function cr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,a=wt(e),p=o||i?[...a?ge(a):[],...ge(t)]:[];p.forEach(b=>{o&&b.addEventListener("scroll",n,{passive:!0}),i&&b.addEventListener("resize",n)});const h=a&&c?sr(a,n):null;let g=-1,f=null;s&&(f=new ResizeObserver(b=>{let[R]=b;R&&R.target===a&&f&&(f.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{f&&f.observe(t)})),n()}),a&&!l&&f.observe(a),f.observe(t));let v,m=l?Re(e):null;l&&y();function y(){const b=Re(e);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&n(),m=b,v=requestAnimationFrame(y)}return n(),()=>{p.forEach(b=>{o&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h&&h(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const ln=(e,t,n)=>{const r=new Map,o={platform:cn,...n},i={...o.platform,_c:r};return Dn(e,t,{...o,platform:i})},lr=e=>{const{element:t,padding:n}=e;function r(o){return Object.prototype.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return r(t)?t.current!=null?It({element:t.current,padding:n}).fn(o):{}:t?It({element:t,padding:n}).fn(o):{}}}};var ze=typeof document<"u"?d.useLayoutEffect:d.useEffect;function Je(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Je(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Je(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Nt(e){const t=d.useRef(e);return ze(()=>{t.current=e}),t}function ur(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,whileElementsMounted:i,open:s}=e,[c,l]=d.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[a,p]=d.useState(r);Je(a,r)||p(r);const h=d.useRef(null),g=d.useRef(null),f=d.useRef(c),v=Nt(i),m=Nt(o),[y,b]=d.useState(null),[R,w]=d.useState(null),E=d.useCallback(T=>{h.current!==T&&(h.current=T,b(T))},[]),x=d.useCallback(T=>{g.current!==T&&(g.current=T,w(T))},[]),C=d.useCallback(()=>{if(!h.current||!g.current)return;const T={placement:t,strategy:n,middleware:a};m.current&&(T.platform=m.current),ln(h.current,g.current,T).then(u=>{const L={...u,isPositioned:!0};N.current&&!Je(f.current,L)&&(f.current=L,be.flushSync(()=>{l(L)}))})},[a,t,n,m]);ze(()=>{s===!1&&f.current.isPositioned&&(f.current.isPositioned=!1,l(T=>({...T,isPositioned:!1})))},[s]);const N=d.useRef(!1);ze(()=>(N.current=!0,()=>{N.current=!1}),[]),ze(()=>{if(y&&R){if(v.current)return v.current(y,R,C);C()}},[y,R,C,v]);const B=d.useMemo(()=>({reference:h,floating:g,setReference:E,setFloating:x}),[E,x]),I=d.useMemo(()=>({reference:y,floating:R}),[y,R]);return d.useMemo(()=>({...c,update:C,refs:B,elements:I,reference:E,floating:x}),[c,C,B,I,E,x])}var z=typeof document<"u"?d.useLayoutEffect:d.useEffect;let ct=!1,ar=0;const Bt=()=>"floating-ui-"+ar++;function fr(){const[e,t]=d.useState(()=>ct?Bt():void 0);return z(()=>{e==null&&t(Bt())},[]),d.useEffect(()=>{ct||(ct=!0)},[]),e}const dr=qt["useId".toString()],He=dr||fr;function un(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const an=d.createContext(null),fn=d.createContext(null),Le=()=>{var e;return((e=d.useContext(an))==null?void 0:e.id)||null},Ce=()=>d.useContext(fn),mr=e=>{const t=He(),n=Ce(),r=Le(),o=e||r;return z(()=>{const i={id:t,parentId:o};return n==null||n.addNode(i),()=>{n==null||n.removeNode(i)}},[n,t,o]),t},gr=e=>{let{children:t,id:n}=e;const r=Le();return d.createElement(an.Provider,{value:d.useMemo(()=>({id:n,parentId:r}),[n,r])},t)},pr=e=>{let{children:t}=e;const n=d.useRef([]),r=d.useCallback(s=>{n.current=[...n.current,s]},[]),o=d.useCallback(s=>{n.current=n.current.filter(c=>c!==s)},[]),i=d.useState(()=>un())[0];return d.createElement(fn.Provider,{value:d.useMemo(()=>({nodesRef:n,addNode:r,removeNode:o,events:i}),[n,r,o,i])},t)};function J(e){return(e==null?void 0:e.ownerDocument)||document}function xt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function dn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Rt(e){return J(e).defaultView||window}function oe(e){return e?e instanceof Rt(e).Element:!1}function Ee(e){return e?e instanceof Rt(e).HTMLElement:!1}function hr(e){if(typeof ShadowRoot>"u")return!1;const t=Rt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function mn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(xt())||t.test(dn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function gn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function dt(){return/apple/i.test(navigator.vendor)}function pn(){return xt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Qe(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ie(e){const t=d.useRef(e);return z(()=>{t.current=e}),t}const Ht="data-floating-ui-safe-polygon";function Ye(e,t,n){return n&&!Qe(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const vr=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:s=0,move:c=!0}=t===void 0?{}:t;const{open:l,onOpenChange:a,dataRef:p,events:h,elements:{domReference:g,floating:f},refs:v}=e,m=Ce(),y=Le(),b=ie(o),R=ie(r),w=d.useRef(),E=d.useRef(),x=d.useRef(),C=d.useRef(),N=d.useRef(!0),B=d.useRef(!1),I=d.useRef(()=>{}),T=d.useCallback(()=>{var O;const A=(O=p.current.openEvent)==null?void 0:O.type;return(A==null?void 0:A.includes("mouse"))&&A!=="mousedown"},[p]);d.useEffect(()=>{if(!n)return;function O(){clearTimeout(E.current),clearTimeout(C.current),N.current=!0}return h.on("dismiss",O),()=>{h.off("dismiss",O)}},[n,h]),d.useEffect(()=>{if(!n||!b.current||!l)return;function O(){T()&&a(!1)}const A=J(f).documentElement;return A.addEventListener("mouseleave",O),()=>{A.removeEventListener("mouseleave",O)}},[f,l,a,n,b,p,T]);const u=d.useCallback(function(O){O===void 0&&(O=!0);const A=Ye(R.current,"close",w.current);A&&!x.current?(clearTimeout(E.current),E.current=setTimeout(()=>a(!1),A)):O&&(clearTimeout(E.current),a(!1))},[R,a]),L=d.useCallback(()=>{I.current(),x.current=void 0},[]),M=d.useCallback(()=>{if(B.current){const O=J(v.floating.current).body;O.style.pointerEvents="",O.removeAttribute(Ht),B.current=!1}},[v]);return d.useEffect(()=>{if(!n)return;function O(){return p.current.openEvent?["click","mousedown"].includes(p.current.openEvent.type):!1}function A(P){if(clearTimeout(E.current),N.current=!1,i&&!Qe(w.current)||s>0&&Ye(R.current,"open")===0)return;p.current.openEvent=P;const k=Ye(R.current,"open",w.current);k?E.current=setTimeout(()=>{a(!0)},k):a(!0)}function D(P){if(O())return;I.current();const k=J(f);if(clearTimeout(C.current),b.current){l||clearTimeout(E.current),x.current=b.current({...e,tree:m,x:P.clientX,y:P.clientY,onClose(){M(),L(),u()}});const S=x.current;k.addEventListener("mousemove",S),I.current=()=>{k.removeEventListener("mousemove",S)};return}u()}function W(P){O()||b.current==null||b.current({...e,tree:m,x:P.clientX,y:P.clientY,onClose(){M(),L(),u()}})(P)}if(oe(g)){const P=g;return l&&P.addEventListener("mouseleave",W),f==null||f.addEventListener("mouseleave",W),c&&P.addEventListener("mousemove",A,{once:!0}),P.addEventListener("mouseenter",A),P.addEventListener("mouseleave",D),()=>{l&&P.removeEventListener("mouseleave",W),f==null||f.removeEventListener("mouseleave",W),c&&P.removeEventListener("mousemove",A),P.removeEventListener("mouseenter",A),P.removeEventListener("mouseleave",D)}}},[g,f,n,e,i,s,c,u,L,M,a,l,m,R,b,p]),z(()=>{var O;if(n&&l&&(O=b.current)!=null&&O.__options.blockPointerEvents&&T()){const W=J(f).body;if(W.setAttribute(Ht,""),W.style.pointerEvents="none",B.current=!0,oe(g)&&f){var A,D;const P=g,k=m==null||(A=m.nodesRef.current.find(S=>S.id===y))==null||(D=A.context)==null?void 0:D.elements.floating;return k&&(k.style.pointerEvents=""),P.style.pointerEvents="auto",f.style.pointerEvents="auto",()=>{P.style.pointerEvents="",f.style.pointerEvents=""}}}},[n,l,y,f,g,m,b,p,T]),z(()=>{l||(w.current=void 0,L(),M())},[l,L,M]),d.useEffect(()=>()=>{L(),clearTimeout(E.current),clearTimeout(C.current),M()},[n,L,M]),d.useMemo(()=>{if(!n)return{};function O(A){w.current=A.pointerType}return{reference:{onPointerDown:O,onPointerEnter:O,onMouseMove(){l||s===0||(clearTimeout(C.current),C.current=setTimeout(()=>{N.current||a(!0)},s))}},floating:{onMouseEnter(){clearTimeout(E.current)},onMouseLeave(){h.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),u(!1)}}}},[h,n,s,l,a,u])},hn=d.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:()=>{},setState:()=>{},isInstantPhase:!1}),vn=()=>d.useContext(hn),yr=e=>{let{children:t,delay:n,timeoutMs:r=0}=e;const[o,i]=d.useReducer((l,a)=>({...l,...a}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=d.useRef(null),c=d.useCallback(l=>{i({currentId:l})},[]);return z(()=>{o.currentId?s.current===null?s.current=o.currentId:i({isInstantPhase:!0}):(i({isInstantPhase:!1}),s.current=null)},[o.currentId]),d.createElement(hn.Provider,{value:d.useMemo(()=>({...o,setState:i,setCurrentId:c}),[o,i,c])},t)},br=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:i,setCurrentId:s,initialDelay:c,setState:l,timeoutMs:a}=vn();d.useEffect(()=>{i&&(l({delay:{open:1,close:Ye(c,"close")}}),i!==o&&r(!1))},[o,r,l,i,c]),d.useEffect(()=>{function p(){r(!1),l({delay:c,currentId:null})}if(!n&&i===o)if(a){const h=window.setTimeout(p,a);return()=>{clearTimeout(h)}}else p()},[n,l,i,o,r,c,a]),d.useEffect(()=>{n&&s(o)},[n,s,o])};function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Te(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function Z(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&hr(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}let Vt=0;function ye(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Vt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():Vt=requestAnimationFrame(i)}function wr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Ne(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)})||[],r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})})||[],n=n.concat(r);return n}function ot(e){return"composedPath"in e?e.composedPath()[0]:e.target}const xr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function yn(e){return Ee(e)&&e.matches(xr)}function re(e){e.preventDefault(),e.stopPropagation()}const et=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function bn(e,t){const n=qe(e,et());t==="prev"&&n.reverse();const r=n.indexOf(Te(J(e)));return n.slice(r+1)[0]}function wn(){return bn(document.body,"next")}function xn(){return bn(document.body,"prev")}function Be(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Z(n,r)}function Rr(e){qe(e,et()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Er(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Tr=qt["useInsertionEffect".toString()],Or=Tr||(e=>e());function Fe(e){const t=d.useRef(()=>{});return Or(()=>{t.current=e}),d.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const Et={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let mt,Tt;function Wt(e){e.key==="Tab"&&(mt=e.target,clearTimeout(Tt))}function Cr(e){const t=mt===e.relatedTarget;return mt=e.relatedTarget,clearTimeout(Tt),t}const tt=d.forwardRef(function(t,n){const r=Fe(t.onFocus),[o,i]=d.useState();return z(()=>(dt()&&i("button"),document.addEventListener("keydown",Wt),()=>{document.removeEventListener("keydown",Wt)}),[]),d.createElement("span",Ve({},t,{ref:n,tabIndex:0,role:o,"aria-hidden":o?void 0:!0,"data-floating-ui-focus-guard":"",style:Et,onFocus:s=>{dt()&&pn()&&!Cr(s)?(s.persist(),Tt=window.setTimeout(()=>{r(s)},50)):r(s)}}))}),Rn=d.createContext(null),En=function(e){let{id:t,enabled:n=!0}=e===void 0?{}:e;const[r,o]=d.useState(null),i=He(),s=Tn();return z(()=>{if(!n)return;const c=t?document.getElementById(t):null;if(c)c.setAttribute("data-floating-ui-portal",""),o(c);else{const l=document.createElement("div");t!==""&&(l.id=t||i),l.setAttribute("data-floating-ui-portal",""),o(l);const a=(s==null?void 0:s.portalNode)||document.body;return a.appendChild(l),()=>{a.removeChild(l)}}},[t,s,i,n]),r},Pr=e=>{let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=En({id:n,enabled:!r}),[s,c]=d.useState(null),l=d.useRef(null),a=d.useRef(null),p=d.useRef(null),h=d.useRef(null),g=!!s&&!s.modal&&!!(r||i)&&o;return d.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function f(v){i&&Be(v)&&(v.type==="focusin"?Er:Rr)(i)}return i.addEventListener("focusin",f,!0),i.addEventListener("focusout",f,!0),()=>{i.removeEventListener("focusin",f,!0),i.removeEventListener("focusout",f,!0)}},[i,o,s==null?void 0:s.modal]),d.createElement(Rn.Provider,{value:d.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:h,portalNode:i,setFocusManagerState:c}),[o,i])},g&&i&&d.createElement(tt,{"data-type":"outside",ref:l,onFocus:f=>{if(Be(f,i)){var v;(v=p.current)==null||v.focus()}else{const m=xn()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),g&&i&&d.createElement("span",{"aria-owns":i.id,style:Et}),r?be.createPortal(t,r):i?be.createPortal(t,i):null,g&&i&&d.createElement(tt,{"data-type":"outside",ref:a,onFocus:f=>{if(Be(f,i)){var v;(v=h.current)==null||v.focus()}else{const m=wn()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}}))},Tn=()=>d.useContext(Rn),Ar=d.forwardRef(function(t,n){return d.createElement("button",Ve({},t,{type:"button",ref:n,tabIndex:-1,style:Et}))});function Sr(e){let{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:c=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:a=!0}=e;const{refs:p,nodeId:h,onOpenChange:g,events:f,dataRef:v,elements:{domReference:m,floating:y}}=t,b=ie(r),R=Ce(),w=Tn(),[E,x]=d.useState(null),C=typeof i=="number"&&i<0,N=d.useRef(null),B=d.useRef(null),I=d.useRef(!1),T=d.useRef(null),u=d.useRef(!1),L=w!=null,M=m&&m.getAttribute("role")==="combobox"&&yn(m),O=d.useCallback(function(P){return P===void 0&&(P=y),P?qe(P,et()):[]},[y]),A=d.useCallback(P=>{const k=O(P);return b.current.map(S=>m&&S==="reference"?m:y&&S==="floating"?y:k).filter(Boolean).flat()},[m,y,b,O]);d.useEffect(()=>{if(!c)return;function P(S){if(S.key==="Tab"){O().length===0&&!M&&re(S);const F=A(),j=ot(S);b.current[0]==="reference"&&j===m&&(re(S),S.shiftKey?ye(F[F.length-1]):ye(F[1])),b.current[1]==="floating"&&j===y&&S.shiftKey&&(re(S),ye(F[0]))}}const k=J(y);return k.addEventListener("keydown",P),()=>{k.removeEventListener("keydown",P)}},[m,y,c,b,p,M,O,A]),d.useEffect(()=>{if(!a)return;function P(){u.current=!0,setTimeout(()=>{u.current=!1})}function k(S){const F=S.relatedTarget,j=!(Z(m,F)||Z(y,F)||Z(F,y)||Z(w==null?void 0:w.portalNode,F)||F!=null&&F.hasAttribute("data-floating-ui-focus-guard")||R&&(Ne(R.nodesRef.current,h).find(_=>{var $,Y;return Z(($=_.context)==null?void 0:$.elements.floating,F)||Z((Y=_.context)==null?void 0:Y.elements.domReference,F)})||wr(R.nodesRef.current,h).find(_=>{var $,Y;return(($=_.context)==null?void 0:$.elements.floating)===F||((Y=_.context)==null?void 0:Y.elements.domReference)===F})));F&&j&&!u.current&&F!==T.current&&(I.current=!0,setTimeout(()=>g(!1)))}if(y&&Ee(m))return m.addEventListener("focusout",k),m.addEventListener("pointerdown",P),!c&&y.addEventListener("focusout",k),()=>{m.removeEventListener("focusout",k),m.removeEventListener("pointerdown",P),!c&&y.removeEventListener("focusout",k)}},[m,y,c,h,R,w,g,a]),d.useEffect(()=>{var P;const k=Array.from((w==null||(P=w.portalNode)==null?void 0:P.querySelectorAll("[data-floating-ui-portal]"))||[]);function S(){return[N.current,B.current].filter(Boolean)}if(y&&c){const F=[y,...k,...S()],j=Pn(b.current.includes("reference")||M?F.concat(m||[]):F);return()=>{j()}}},[m,y,c,b,w,M]),d.useEffect(()=>{if(c&&!o&&y){const P=[],k=et(),S=qe(J(y).body,k),F=A(),j=S.filter(_=>!F.includes(_));return j.forEach((_,$)=>{P[$]=_.getAttribute("tabindex"),_.setAttribute("tabindex","-1")}),()=>{j.forEach((_,$)=>{const Y=P[$];Y==null?_.removeAttribute("tabindex"):_.setAttribute("tabindex",Y)})}}},[y,c,o,A]),z(()=>{if(!y)return;const P=J(y);let k=s,S=!1;const F=Te(P),j=v.current;T.current=F;const _=A(y),$=(typeof i=="number"?_[i]:i.current)||y;!C&&ye($,{preventScroll:$===y});function Y(H){if(H.type==="escapeKey"&&p.domReference.current&&(T.current=p.domReference.current),["referencePress","escapeKey"].includes(H.type))return;const Q=H.data.returnFocus;typeof Q=="object"?(k=!0,S=Q.preventScroll):k=Q}return f.on("dismiss",Y),()=>{if(f.off("dismiss",Y),Z(y,Te(P))&&p.domReference.current&&(T.current=p.domReference.current),k&&Ee(T.current)&&!I.current)if(!p.domReference.current||u.current)ye(T.current,{cancelPrevious:!1,preventScroll:S});else{var H;j.__syncReturnFocus=!0,(H=T.current)==null||H.focus({preventScroll:S}),setTimeout(()=>{delete j.__syncReturnFocus})}}},[y,A,i,s,v,p,f,C]),z(()=>{if(w)return w.setFocusManagerState({...t,modal:c,closeOnFocusOut:a}),()=>{w.setFocusManagerState(null)}},[w,c,a,t]),z(()=>{if(C||!y)return;function P(){x(O().length)}if(P(),typeof MutationObserver=="function"){const k=new MutationObserver(P);return k.observe(y,{childList:!0,subtree:!0}),()=>{k.disconnect()}}},[y,O,C,p]);const D=o&&(L||c)&&!M;function W(P){return l&&c?d.createElement(Ar,{ref:P==="start"?N:B,onClick:()=>g(!1)},typeof l=="string"?l:"Dismiss"):null}return d.createElement(d.Fragment,null,D&&d.createElement(tt,{"data-type":"inside",ref:w==null?void 0:w.beforeInsideRef,onFocus:P=>{if(c){const S=A();ye(r[0]==="reference"?S[0]:S[S.length-1])}else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(I.current=!1,Be(P,w.portalNode)){const S=wn()||m;S==null||S.focus()}else{var k;(k=w.beforeOutsideRef.current)==null||k.focus()}}}),M?null:W("start"),d.cloneElement(n,E===0||r.includes("floating")?{tabIndex:0}:{}),W("end"),D&&d.createElement(tt,{"data-type":"inside",ref:w==null?void 0:w.afterInsideRef,onFocus:P=>{if(c)ye(A()[0]);else if(w!=null&&w.preserveTabOrder&&w.portalNode)if(I.current=!0,Be(P,w.portalNode)){const S=xn()||m;S==null||S.focus()}else{var k;(k=w.afterOutsideRef.current)==null||k.focus()}}}))}const je="data-floating-ui-scroll-lock",Ir=d.forwardRef(function(t,n){let{lockScroll:r=!1,...o}=t;return z(()=>{var i,s;if(!r||document.body.hasAttribute(je))return;document.body.setAttribute(je,"");const a=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",p=window.innerWidth-document.documentElement.clientWidth;if(!/iP(hone|ad|od)|iOS/.test(xt()))return Object.assign(document.body.style,{overflow:"hidden",[a]:p+"px"}),()=>{document.body.removeAttribute(je),Object.assign(document.body.style,{overflow:"",[a]:""})};const h=((i=window.visualViewport)==null?void 0:i.offsetLeft)||0,g=((s=window.visualViewport)==null?void 0:s.offsetTop)||0,f=window.pageXOffset,v=window.pageYOffset;return Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:-(v-Math.floor(g))+"px",left:-(f-Math.floor(h))+"px",right:"0",[a]:p+"px"}),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[a]:""}),document.body.removeAttribute(je),window.scrollTo(f,v)}},[r]),d.createElement("div",Ve({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function _t(e){return Ee(e.target)&&e.target.tagName==="BUTTON"}function Kt(e){return yn(e)}const Mr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:l=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t===void 0?{}:t;const h=d.useRef();return d.useMemo(()=>s?{reference:{onPointerDown(g){h.current=g.pointerType},onMouseDown(g){g.button===0&&(Qe(h.current,!0)&&a||c!=="click"&&(n?l&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(g.preventDefault(),r(!0)),o.current.openEvent=g.nativeEvent))},onClick(g){if(!o.current.__syncReturnFocus){if(c==="mousedown"&&h.current){h.current=void 0;return}Qe(h.current,!0)&&a||(n?l&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=g.nativeEvent)}},onKeyDown(g){h.current=void 0,p&&(_t(g)||(g.key===" "&&!Kt(i)&&g.preventDefault(),g.key==="Enter"&&(n?l&&r(!1):r(!0))))},onKeyUp(g){p&&(_t(g)||Kt(i)||g.key===" "&&(n?l&&r(!1):r(!0)))}}}:{},[s,o,c,a,p,i,l,n,r])};function Xe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Lr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Fr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Dr=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},kr=function(e,t){let{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:l},dataRef:a}=e,{enabled:p=!0,escapeKey:h=!0,outsidePress:g=!0,outsidePressEvent:f="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:y=!1,bubbles:b=!0}=t===void 0?{}:t;const R=Ce(),w=Le()!=null,E=Fe(typeof g=="function"?g:()=>!1),x=typeof g=="function"?E:g,C=d.useRef(!1),{escapeKeyBubbles:N,outsidePressBubbles:B}=Dr(b);return d.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=N,a.current.__outsidePressBubbles=B;function I(O){if(O.key==="Escape"){const A=R?Ne(R.nodesRef.current,i):[];if(A.length>0){let D=!0;if(A.forEach(W=>{var P;if((P=W.context)!=null&&P.open&&!W.context.dataRef.current.__escapeKeyBubbles){D=!1;return}}),!D)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function T(O){const A=C.current;if(C.current=!1,A||typeof x=="function"&&!x(O))return;const D=ot(O);if(Ee(D)&&l){const k=l.ownerDocument.defaultView||window,S=D.scrollWidth>D.clientWidth,F=D.scrollHeight>D.clientHeight;let j=F&&O.offsetX>D.clientWidth;if(F&&k.getComputedStyle(D).direction==="rtl"&&(j=O.offsetX<=D.offsetWidth-D.clientWidth),j||S&&O.offsetY>D.clientHeight)return}const W=R&&Ne(R.nodesRef.current,i).some(k=>{var S;return Xe(O,(S=k.context)==null?void 0:S.elements.floating)});if(Xe(O,l)||Xe(O,c)||W)return;const P=R?Ne(R.nodesRef.current,i):[];if(P.length>0){let k=!0;if(P.forEach(S=>{var F;if((F=S.context)!=null&&F.open&&!S.context.dataRef.current.__outsidePressBubbles){k=!1;return}}),!k)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:w?{preventScroll:!0}:mn(O)||gn(O)}}),r(!1)}function u(){r(!1)}const L=J(l);h&&L.addEventListener("keydown",I),x&&L.addEventListener(f,T);let M=[];return y&&(oe(c)&&(M=ge(c)),oe(l)&&(M=M.concat(ge(l))),!oe(s)&&s&&s.contextElement&&(M=M.concat(ge(s.contextElement)))),M=M.filter(O=>{var A;return O!==((A=L.defaultView)==null?void 0:A.visualViewport)}),M.forEach(O=>{O.addEventListener("scroll",u,{passive:!0})}),()=>{h&&L.removeEventListener("keydown",I),x&&L.removeEventListener(f,T),M.forEach(O=>{O.removeEventListener("scroll",u)})}},[a,l,c,s,h,x,f,o,R,i,n,r,y,p,N,B,w]),d.useEffect(()=>{C.current=!1},[x,f]),d.useMemo(()=>p?{reference:{[Lr[m]]:()=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Fr[f]]:()=>{C.current=!0}}}:{},[p,o,v,f,m,r])},Nr=function(e,t){let{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:l}}=e,{enabled:a=!0,keyboardOnly:p=!0}=t===void 0?{}:t;const h=d.useRef(""),g=d.useRef(!1),f=d.useRef();return d.useEffect(()=>{if(!a)return;const m=J(c).defaultView||window;function y(){!n&&Ee(l)&&l===Te(J(l))&&(g.current=!0)}return m.addEventListener("blur",y),()=>{m.removeEventListener("blur",y)}},[c,l,n,a]),d.useEffect(()=>{if(!a)return;function v(m){(m.type==="referencePress"||m.type==="escapeKey")&&(g.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,a]),d.useEffect(()=>()=>{clearTimeout(f.current)},[]),d.useMemo(()=>a?{reference:{onPointerDown(v){let{pointerType:m}=v;h.current=m,g.current=!!(m&&p)},onMouseLeave(){g.current=!1},onFocus(v){var m;g.current||v.type==="focus"&&((m=o.current.openEvent)==null?void 0:m.type)==="mousedown"&&o.current.openEvent&&Xe(o.current.openEvent,l)||(o.current.openEvent=v.nativeEvent,r(!0))},onBlur(v){g.current=!1;const m=v.relatedTarget,y=oe(m)&&m.hasAttribute("data-floating-ui-focus-guard")&&m.getAttribute("data-type")==="outside";f.current=setTimeout(()=>{Z(s.floating.current,m)||Z(l,m)||y||r(!1)})}}}:{},[a,p,l,s,o,r])};let jt=!1;const Ot="ArrowUp",it="ArrowDown",Me="ArrowLeft",_e="ArrowRight";function $e(e,t,n){return Math.floor(e/t)!==n}function ke(e,t){return t<0||t>=e.current.length}function G(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do{var l,a;c=c+(r?-i:i)}while(c>=0&&c<=s.length-1&&(o?o.includes(c):s[c]==null||(l=s[c])!=null&&l.hasAttribute("disabled")||((a=s[c])==null?void 0:a.getAttribute("aria-disabled"))==="true"));return c}function st(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function $t(e,t){return st(t,e===Ot||e===it,e===Me||e===_e)}function lt(e,t,n){return st(t,e===it,n?e===Me:e===_e)||e==="Enter"||e==" "||e===""}function Br(e,t,n){return st(t,n?e===Me:e===_e,e===it)}function Hr(e,t,n){return st(t,n?e===_e:e===Me,e===Ot)}function ut(e,t){return G(e,{disabledIndices:t})}function zt(e,t){return G(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}const Vr=function(e,t){let{open:n,onOpenChange:r,refs:o,elements:{domReference:i}}=e,{listRef:s,activeIndex:c,onNavigate:l=()=>{},enabled:a=!0,selectedIndex:p=null,allowEscape:h=!1,loop:g=!1,nested:f=!1,rtl:v=!1,virtual:m=!1,focusItemOnOpen:y="auto",focusItemOnHover:b=!0,openOnArrowKeyDown:R=!0,disabledIndices:w=void 0,orientation:E="vertical",cols:x=1,scrollItemIntoView:C=!0}=t===void 0?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:t;const N=Le(),B=Ce(),I=Fe(l),T=d.useRef(y),u=d.useRef(p??-1),L=d.useRef(null),M=d.useRef(!0),O=d.useRef(I),A=d.useRef(n),D=d.useRef(!1),W=d.useRef(!1),P=ie(w),k=ie(n),S=ie(C),[F,j]=d.useState(),_=d.useCallback(function(H,Q,X){X===void 0&&(X=!1);const q=H.current[Q.current];m?j(q==null?void 0:q.id):ye(q,{preventScroll:!0,sync:pn()&&dt()?jt||D.current:!1}),requestAnimationFrame(()=>{const Pe=S.current;Pe&&q&&(X||!M.current)&&(q.scrollIntoView==null||q.scrollIntoView(typeof Pe=="boolean"?{block:"nearest",inline:"nearest"}:Pe))})},[m,S]);z(()=>{document.createElement("div").focus({get preventScroll(){return jt=!0,!1}})},[]),z(()=>{a&&(n?T.current&&p!=null&&(W.current=!0,I(p)):A.current&&(u.current=-1,O.current(null)))},[a,n,p,I]),z(()=>{if(a&&n)if(c==null){if(D.current=!1,p!=null)return;A.current&&(u.current=-1,_(s,u)),!A.current&&T.current&&(L.current!=null||T.current===!0&&L.current==null)&&(u.current=L.current==null||lt(L.current,E,v)||f?ut(s,P.current):zt(s,P.current),I(u.current))}else ke(s,c)||(u.current=c,_(s,u,W.current),W.current=!1)},[a,n,c,p,f,s,E,v,I,_,P]),z(()=>{if(a&&A.current&&!n){var H,Q;const X=B==null||(H=B.nodesRef.current.find(q=>q.id===N))==null||(Q=H.context)==null?void 0:Q.elements.floating;X&&!Z(X,Te(J(X)))&&X.focus({preventScroll:!0})}},[a,n,B,N]),z(()=>{L.current=null,O.current=I,A.current=n});const $=c!=null,Y=d.useMemo(()=>{function H(X){if(!n)return;const q=s.current.indexOf(X);q!==-1&&I(q)}return{onFocus(X){let{currentTarget:q}=X;H(q)},onClick:X=>{let{currentTarget:q}=X;return q.focus({preventScroll:!0})},...b&&{onMouseMove(X){let{currentTarget:q}=X;H(q)},onPointerLeave(){if(M.current&&(u.current=-1,_(s,u),be.flushSync(()=>I(null)),!m)){var X;(X=o.floating.current)==null||X.focus({preventScroll:!0})}}}}},[n,o,_,b,s,I,m]);return d.useMemo(()=>{if(!a)return{};const H=P.current;function Q(V){if(M.current=!1,D.current=!0,!k.current&&V.currentTarget===o.floating.current)return;if(f&&Hr(V.key,E,v)){re(V),r(!1),Ee(i)&&i.focus();return}const ce=u.current,ve=ut(s,H),ne=zt(s,H);if(V.key==="Home"&&(u.current=ve,I(u.current)),V.key==="End"&&(u.current=ne,I(u.current)),x>1){const K=u.current;if(V.key===Ot){if(re(V),K===-1)u.current=ne;else if(u.current=G(s,{startingIndex:K,amount:x,decrement:!0,disabledIndices:H}),g&&(K-x<ve||u.current<0)){const me=K%x,De=ne%x,Ct=ne-(De-me);De===me?u.current=ne:u.current=De>me?Ct:Ct-x}ke(s,u.current)&&(u.current=K),I(u.current)}if(V.key===it&&(re(V),K===-1?u.current=ve:(u.current=G(s,{startingIndex:K,amount:x,disabledIndices:H}),g&&K+x>ne&&(u.current=G(s,{startingIndex:K%x-x,amount:x,disabledIndices:H}))),ke(s,u.current)&&(u.current=K),I(u.current)),E==="both"){const me=Math.floor(K/x);V.key===_e&&(re(V),K%x!==x-1?(u.current=G(s,{startingIndex:K,disabledIndices:H}),g&&$e(u.current,x,me)&&(u.current=G(s,{startingIndex:K-K%x-1,disabledIndices:H}))):g&&(u.current=G(s,{startingIndex:K-K%x-1,disabledIndices:H})),$e(u.current,x,me)&&(u.current=K)),V.key===Me&&(re(V),K%x!==0?(u.current=G(s,{startingIndex:K,disabledIndices:H,decrement:!0}),g&&$e(u.current,x,me)&&(u.current=G(s,{startingIndex:K+(x-K%x),decrement:!0,disabledIndices:H}))):g&&(u.current=G(s,{startingIndex:K+(x-K%x),decrement:!0,disabledIndices:H})),$e(u.current,x,me)&&(u.current=K));const De=Math.floor(ne/x)===me;ke(s,u.current)&&(g&&De?u.current=V.key===Me?ne:G(s,{startingIndex:K-K%x-1,disabledIndices:H}):u.current=K),I(u.current);return}}if($t(V.key,E)){if(re(V),n&&!m&&Te(V.currentTarget.ownerDocument)===V.currentTarget){u.current=lt(V.key,E,v)?ve:ne,I(u.current);return}lt(V.key,E,v)?g?u.current=ce>=ne?h&&ce!==s.current.length?-1:ve:G(s,{startingIndex:ce,disabledIndices:H}):u.current=Math.min(ne,G(s,{startingIndex:ce,disabledIndices:H})):g?u.current=ce<=ve?h&&ce!==-1?s.current.length:ne:G(s,{startingIndex:ce,decrement:!0,disabledIndices:H}):u.current=Math.max(ve,G(s,{startingIndex:ce,decrement:!0,disabledIndices:H})),ke(s,u.current)?I(null):I(u.current)}}function X(V){y==="auto"&&mn(V.nativeEvent)&&(T.current=!0)}function q(V){T.current=y,y==="auto"&&gn(V.nativeEvent)&&(T.current=!0)}const Pe=m&&n&&$&&{"aria-activedescendant":F};return{reference:{...Pe,onKeyDown(V){M.current=!1;const ce=V.key.indexOf("Arrow")===0;if(m&&n)return Q(V);if(!n&&!R&&ce)return;if((ce||V.key==="Enter"||V.key===" "||V.key==="")&&(L.current=V.key),f){Br(V.key,E,v)&&(re(V),n?(u.current=ut(s,H),I(u.current)):r(!0));return}$t(V.key,E)&&(p!=null&&(u.current=p),re(V),!n&&R?r(!0):Q(V),n&&I(u.current))},onFocus(){n&&I(null)},onPointerDown:q,onMouseDown:X,onClick:X},floating:{"aria-orientation":E==="both"?void 0:E,...Pe,onKeyDown:Q,onPointerMove(){M.current=!0}},item:Y}},[i,o,F,P,k,s,a,E,v,m,n,$,f,p,R,h,x,g,y,I,r,Y])};function Wr(e){return d.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const _r=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=t===void 0?{}:t;const i=He(),s=He();return d.useMemo(()=>{const c={id:i,role:o};return r?o==="tooltip"?{reference:{"aria-describedby":n?i:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o==="alertdialog"?"dialog":o,"aria-controls":n?i:void 0,...o==="listbox"&&{role:"combobox"},...o==="menu"&&{id:s}},floating:{...c,...o==="menu"&&{"aria-labelledby":s}}}:{}},[r,o,n,i,s])},Yt=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase());function Kr(e,t){const[n,r]=d.useState(e);return e&&!n&&r(!0),d.useEffect(()=>{if(!e){const o=setTimeout(()=>r(!1),t);return()=>clearTimeout(o)}},[e,t]),n}function On(e,t){let{open:n,elements:{floating:r}}=e,{duration:o=250}=t===void 0?{}:t;const s=(typeof o=="number"?o:o.close)||0,[c,l]=d.useState(!1),[a,p]=d.useState("unmounted"),h=Kr(n,s);return z(()=>{c&&!h&&p("unmounted")},[c,h]),z(()=>{if(r)if(n){p("initial");const g=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(g)}}else l(!0),p("close")},[n,r]),{isMounted:h,status:a}}function jr(e,t){let{initial:n={opacity:0},open:r,close:o,common:i,duration:s=250}=t===void 0?{}:t;const c=e.placement,l=c.split("-")[0],[a,p]=d.useState({}),{isMounted:h,status:g}=On(e,{duration:s}),f=ie(n),v=ie(r),m=ie(o),y=ie(i),b=typeof s=="number",R=(b?s:s.open)||0,w=(b?s:s.close)||0;return z(()=>{const E={side:l,placement:c},x=f.current,C=m.current,N=v.current,B=y.current,I=typeof x=="function"?x(E):x,T=typeof C=="function"?C(E):C,u=typeof B=="function"?B(E):B,L=(typeof N=="function"?N(E):N)||Object.keys(I).reduce((M,O)=>(M[O]="",M),{});if((g==="initial"||g==="unmounted")&&p(M=>({transitionProperty:M.transitionProperty,...u,...I})),g==="open"&&p({transitionProperty:Object.keys(L).map(Yt).join(","),transitionDuration:R+"ms",...u,...L}),g==="close"){const M=T||I;p({transitionProperty:Object.keys(M).map(Yt).join(","),transitionDuration:w+"ms",...u,...M})}},[l,c,w,m,f,v,y,R,g]),{isMounted:h,styles:a}}const $r=function(e,t){var n;let{open:r,dataRef:o,refs:i}=e,{listRef:s,activeIndex:c,onMatch:l=()=>{},enabled:a=!0,findMatch:p=null,resetMs:h=1e3,ignoreKeys:g=[],selectedIndex:f=null}=t===void 0?{listRef:{current:[]},activeIndex:null}:t;const v=d.useRef(),m=d.useRef(""),y=d.useRef((n=f??c)!=null?n:-1),b=d.useRef(null),R=Fe(l),w=ie(p),E=ie(g);return z(()=>{r&&(clearTimeout(v.current),b.current=null,m.current="")},[r]),z(()=>{if(r&&m.current===""){var x;y.current=(x=f??c)!=null?x:-1}},[r,f,c]),d.useMemo(()=>{if(!a)return{};function x(C){var N;const B=ot(C.nativeEvent);if(oe(B)&&(Te(J(B))!==C.currentTarget?(N=i.floating.current)!=null&&N.contains(B)&&B.closest('[role="dialog"],[role="menu"],[role="listbox"],[role="tree"],[role="grid"]')!==C.currentTarget:!C.currentTarget.contains(B)))return;m.current.length>0&&m.current[0]!==" "&&(o.current.typing=!0,C.key===" "&&re(C));const I=s.current;if(I==null||E.current.includes(C.key)||C.key.length!==1||C.ctrlKey||C.metaKey||C.altKey)return;I.every(A=>{var D,W;return A?((D=A[0])==null?void 0:D.toLocaleLowerCase())!==((W=A[1])==null?void 0:W.toLocaleLowerCase()):!0})&&m.current===C.key&&(m.current="",y.current=b.current),m.current+=C.key,clearTimeout(v.current),v.current=setTimeout(()=>{m.current="",y.current=b.current,o.current.typing=!1},h);const u=y.current,L=[...I.slice((u||0)+1),...I.slice(0,(u||0)+1)],M=w.current?w.current(L,m.current):L.find(A=>(A==null?void 0:A.toLocaleLowerCase().indexOf(m.current.toLocaleLowerCase()))===0),O=M?I.indexOf(M):-1;O!==-1&&(R(O),b.current=O)}return{reference:{onKeyDown:x},floating:{onKeyDown:x}}},[a,o,s,h,E,w,R,i])};function Xt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const zr=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:c=4,referenceOverflowThreshold:l=0,scrollRef:a,...p}=e,{rects:h,elements:{floating:g}}=t,f=n.current[s];if(!f)return{};const v={...t,...await Jt(-f.offsetTop-h.reference.height/2-f.offsetHeight/2-i).fn(t)},m=(a==null?void 0:a.current)||g,y=await fe(Xt(v,m.scrollHeight),p),b=await fe(v,{...p,elementContext:"reference"}),R=Math.max(0,y.top),w=v.y+R,E=Math.max(0,m.scrollHeight-R-Math.max(0,y.bottom));return m.style.maxHeight=E+"px",m.scrollTop=R,o&&(m.offsetHeight<f.offsetHeight*Math.min(c,n.current.length-1)-1||b.top>=-l||b.bottom>=-l?be.flushSync(()=>o(!0)):be.flushSync(()=>o(!1))),r&&(r.current=await fe(Xt({...v,y:w},m.offsetHeight),p)),{y:w}}}),Yr=(e,t)=>{let{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:c}=t;const l=Fe(c),a=d.useRef(!1),p=d.useRef(null),h=d.useRef(null);return d.useEffect(()=>{if(!o)return;function g(v){if(v.ctrlKey||!f||i.current==null)return;const m=v.deltaY,y=i.current.top>=-.5,b=i.current.bottom>=-.5,R=f.scrollHeight-f.clientHeight,w=m<0?-1:1,E=m<0?"max":"min";f.scrollHeight<=f.clientHeight||(!y&&m>0||!b&&m<0?(v.preventDefault(),be.flushSync(()=>{l(x=>x+Math[E](m,R*w))})):/firefox/i.test(dn())&&(f.scrollTop+=m))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",g),requestAnimationFrame(()=>{p.current=f.scrollTop,i.current!=null&&(h.current={...i.current})}),()=>{p.current=null,h.current=null,f.removeEventListener("wheel",g)}},[o,n,r.floating,i,s,l]),d.useMemo(()=>o?{floating:{onKeyDown(){a.current=!0},onWheel(){a.current=!1},onPointerMove(){a.current=!1},onScroll(){const g=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!g||!a.current)){if(p.current!==null){const f=g.scrollTop-p.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&be.flushSync(()=>l(v=>v+f))}requestAnimationFrame(()=>{p.current=g.scrollTop})}}}}:{},[o,i,r.floating,s,l])};function Xr(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[l,a]=t[s]||[0,0],[p,h]=t[c]||[0,0];a>=r!=h>=r&&n<=(p-l)*(r-a)/(h-a)+l&&(o=!o)}return o}function qr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Gr(e){let{restMs:t=0,buffer:n=.5,blockPointerEvents:r=!1}=e===void 0?{}:e,o,i=!1,s=!1;const c=l=>{let{x:a,y:p,placement:h,elements:g,onClose:f,nodeId:v,tree:m}=l;return function(b){function R(){clearTimeout(o),f()}if(clearTimeout(o),!g.domReference||!g.floating||h==null||a==null||p==null)return;const{clientX:w,clientY:E}=b,x=[w,E],C=ot(b),N=b.type==="mouseleave",B=Z(g.floating,C),I=Z(g.domReference,C),T=g.domReference.getBoundingClientRect(),u=g.floating.getBoundingClientRect(),L=h.split("-")[0],M=a>u.right-u.width/2,O=p>u.bottom-u.height/2,A=qr(x,T);if(B&&(s=!0,!N))return;if(I&&(s=!1),I&&!N){s=!0;return}if(N&&oe(b.relatedTarget)&&Z(g.floating,b.relatedTarget)||m&&Ne(m.nodesRef.current,v).some(k=>{let{context:S}=k;return S==null?void 0:S.open}))return;if(L==="top"&&p>=T.bottom-1||L==="bottom"&&p<=T.top+1||L==="left"&&a>=T.right-1||L==="right"&&a<=T.left+1)return R();let D=[];switch(L){case"top":D=[[u.left,T.top+1],[u.left,u.bottom-1],[u.right,u.bottom-1],[u.right,T.top+1]],i=w>=u.left&&w<=u.right&&E>=u.top&&E<=T.top+1;break;case"bottom":D=[[u.left,u.top+1],[u.left,T.bottom-1],[u.right,T.bottom-1],[u.right,u.top+1]],i=w>=u.left&&w<=u.right&&E>=T.bottom-1&&E<=u.bottom;break;case"left":D=[[u.right-1,u.bottom],[u.right-1,u.top],[T.left+1,u.top],[T.left+1,u.bottom]],i=w>=u.left&&w<=T.left+1&&E>=u.top&&E<=u.bottom;break;case"right":D=[[T.right-1,u.bottom],[T.right-1,u.top],[u.left+1,u.top],[u.left+1,u.bottom]],i=w>=T.right-1&&w<=u.right&&E>=u.top&&E<=u.bottom;break}function W(k){let[S,F]=k;const j=u.width>T.width,_=u.height>T.height;switch(L){case"top":{const $=[j?S+n/2:M?S+n*4:S-n*4,F+n+1],Y=[j?S-n/2:M?S+n*4:S-n*4,F+n+1],H=[[u.left,M||j?u.bottom-n:u.top],[u.right,M?j?u.bottom-n:u.top:u.bottom-n]];return[$,Y,...H]}case"bottom":{const $=[j?S+n/2:M?S+n*4:S-n*4,F-n],Y=[j?S-n/2:M?S+n*4:S-n*4,F-n],H=[[u.left,M||j?u.top+n:u.bottom],[u.right,M?j?u.top+n:u.bottom:u.top+n]];return[$,Y,...H]}case"left":{const $=[S+n+1,_?F+n/2:O?F+n*4:F-n*4],Y=[S+n+1,_?F-n/2:O?F+n*4:F-n*4];return[...[[O||_?u.right-n:u.left,u.top],[O?_?u.right-n:u.left:u.right-n,u.bottom]],$,Y]}case"right":{const $=[S-n,_?F+n/2:O?F+n*4:F-n*4],Y=[S-n,_?F-n/2:O?F+n*4:F-n*4],H=[[O||_?u.left+n:u.right,u.top],[O?_?u.left+n:u.right:u.left+n,u.bottom]];return[$,Y,...H]}}}const P=i?D:W([a,p]);if(!i){if(s&&!A)return R();Xr([w,E],P)?t&&!s&&(o=setTimeout(R,t)):R()}}};return c.__options={blockPointerEvents:r},c}function Ur(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,o=ur(e),i=Ce(),s=d.useRef(null),c=d.useRef({}),l=d.useState(()=>un())[0],[a,p]=d.useState(null),h=d.useCallback(b=>{const R=oe(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;o.refs.setReference(R)},[o.refs]),g=d.useCallback(b=>{(oe(b)||b===null)&&(s.current=b,p(b)),(oe(o.refs.reference.current)||o.refs.reference.current===null||b!==null&&!oe(b))&&o.refs.setReference(b)},[o.refs]),f=d.useMemo(()=>({...o.refs,setReference:g,setPositionReference:h,domReference:s}),[o.refs,g,h]),v=d.useMemo(()=>({...o.elements,domReference:a}),[o.elements,a]),m=Fe(n),y=d.useMemo(()=>({...o,refs:f,elements:v,dataRef:c,nodeId:r,events:l,open:t,onOpenChange:m}),[o,r,l,t,m,f,v]);return z(()=>{const b=i==null?void 0:i.nodesRef.current.find(R=>R.id===r);b&&(b.context=y)}),d.useMemo(()=>({...o,context:y,refs:f,reference:g,positionReference:h}),[o,f,y,g,h])}function at(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,l]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof l=="function"){var a;(a=r.get(c))==null||a.push(l),o[c]=function(){for(var p,h=arguments.length,g=new Array(h),f=0;f<h;f++)g[f]=arguments[f];(p=r.get(c))==null||p.forEach(v=>v(...g))}}}else o[c]=l}),o),{})}}const Zr=function(e){e===void 0&&(e=[]);const t=e,n=d.useCallback(i=>at(i,e,"reference"),t),r=d.useCallback(i=>at(i,e,"floating"),t),o=d.useCallback(i=>at(i,e,"item"),e.map(i=>i==null?void 0:i.item));return d.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])},Jr=Object.freeze(Object.defineProperty({__proto__:null,FloatingDelayGroup:yr,FloatingFocusManager:Sr,FloatingNode:gr,FloatingOverlay:Ir,FloatingPortal:Pr,FloatingTree:pr,arrow:lr,autoPlacement:Nn,autoUpdate:cr,computePosition:ln,detectOverflow:fe,flip:Bn,getOverflowAncestors:ge,hide:Hn,inline:Wn,inner:zr,limitShift:jn,offset:Jt,platform:cn,safePolygon:Gr,shift:Kn,size:$n,useClick:Mr,useDelayGroup:br,useDelayGroupContext:vn,useDismiss:kr,useFloating:Ur,useFloatingNodeId:mr,useFloatingParentNodeId:Le,useFloatingPortalNode:En,useFloatingTree:Ce,useFocus:Nr,useHover:vr,useId:He,useInnerOffset:Yr,useInteractions:Zr,useListNavigation:Vr,useMergeRefs:Wr,useRole:_r,useTransitionStatus:On,useTransitionStyles:jr,useTypeahead:$r},Symbol.toStringTag,{value:"Module"})),oo=Cn(Jr);export{oo as r};
